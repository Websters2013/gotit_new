!function(){$(function(){$(window).on({load:function(){$("html, body").animate({scrollTop:0},1),$(".loading").removeClass("active"),$(".hero").addClass("is-inview"),$(".about-us_detail").addClass("is-inview")}}),$(".hero").each(function(){new t($(this))}),$(".services").each(function(){new s($(this))}),$(".show").each(function(){new e($(this))}),$(".site").each(function(){new n($(this))}),$(".search").each(function(){new o($(this))}),$(".get-in-touch").each(function(){new a($(this))})});var t=function(t){var s=this,e=t,n=e.find(".hero__title"),o=function(){n.each(function(){for(var t=$(this),s=t.data("text"),e=0;e<s.length;e++)32==s.substr(e,1).charCodeAt(0)?t.append("<span>&nbsp;</span>"):t.append("<span>"+s.substr(e,1)+"</span>")})};(function(){})(),e[0].obj=s,o()},s=function(t){var s,e=this,n=t,o=n.find(".swiper-container"),a=n.find(".swiper-pagination"),i=n.find(".swiper-button-next"),r=n.find(".swiper-button-prev"),c=function(){s=new Swiper(o,{pagination:a,paginationClickable:!0,nextButton:i,prevButton:r,spaceBetween:30})};(function(){})(),n[0].obj=e,c()},e=function(t){var s=this,e=t,n=$(window),o=function(){n.on({scroll:function(){a()}})},a=function(){var t=n.height();e.each(function(){var s=$(this),o=e.offset().top;n.scrollTop()+.8*t>o&&!s.hasClass("animation")&&(s.hasClass("show_is")?s.addClass("is-inview"):s.addClass("animation"))})};e[0].slides=s,o(),a()},n=function(t){var s=this,e=t,n=$(window),o=$(".site__footer"),a=o.find(".site__footer-logo"),i=!0,r=function(){n.on({scroll:function(){var t=$(window).scrollTop();c(t),a.offset().top-t<1.1*$(window).height()?o.addClass("is-inview"):o.removeClass("is-inview")}}),n.on({mousewheel:function(t){i&&(t.preventDefault(),l(t))},DOMMouseScroll:function(t){i&&(t.preventDefault(),l(t))}})},c=function(t){$(".hero__title").each(function(s){var e=$(this);switch(s){case 0:e.css({"-webkit-transform":"translate( "+.8*-t+"px, 0px )",transform:"translate( "+.8*-t+"px, 0px )"});break;case 1:e.css({"-webkit-transform":"translate( "+.8*-t*2+"px, 0px )",transform:"translate( "+.8*-t*2+"px, 0px )"})}}),$(".hero__ban").css({"-webkit-transform":"translate( 0px, "+.1*t+"px )",transform:"translate( 0px, "+.1*t+"px )"}),$(".about-us__column").each(function(s){var e=$(this),n=e.offset().top;switch(s){case 0:e.css({"-webkit-transform":"translate( 0px, "+.05*-(t-n)+"px )",transform:"translate( 0px, "+.05*-(t-n)+"px )"});break;case 1:e.css({"-webkit-transform":"translate( 0px, "+.05*(t-n)+"px )",transform:"translate( 0px, "+.05*(t-n)+"px )"})}}),$(".about-us .btn_plus").css({"-webkit-transform":"translate( 0px, "+.05*t+"px )",transform:"translate( 0px, "+.05*t+"px )"}),$(".about-us__image").css({"-webkit-transform":"translate( 0px, "+.1*t+"px )",transform:"translate( 0px, "+.1*t+"px )"}),$(".badge").each(function(){var s=$(this),e=s.offset().top;s.css({"-webkit-transform":"translate( 0px, "+.5*(t-e)+"px )",transform:"translate( 0px, "+.5*(t-e)+"px )"})}),$(".case-preview__item").each(function(s){var e=$(this),n=e.offset().top;1==s?e.css({"-webkit-transform":"translate( 0px, "+.05*(t-n)+"px )",transform:"translate( 0px, "+.05*(t-n)+"px )"}):e.css({"-webkit-transform":"translate( 0px, "+.05*-(t-n)+"px )",transform:"translate( 0px, "+.05*-(t-n)+"px )"})}),$(".contact-us__logo").each(function(){var s=$(this),e=s.offset().top;s.css({"-webkit-transform":"translate( "+.15*(t-e)+"px, 0px )",transform:"translate( "+.15*(t-e)+"px, 0px )"})}),$(".our-services__item-pic").each(function(s){var e=$(this),n=e.offset().top;e.css({"-webkit-transform":"translate( 0px, "+.1*(t-n)+"px )",transform:"translate( 0px, "+.1*(t-n)+"px )"})})},l=function(t){var s=t.originalEvent.wheelDelta/120||-t.originalEvent.detail/3,e=n.scrollTop()-parseInt(170*s);TweenMax.to(n,1.2,{scrollTo:{y:e,autoKill:!0},ease:Power1.easeOut,overwrite:5})};s.setCanUseScroll=function(t){i=t},e[0].obj=s,r()},o=function(t){var s=this,e=t,n=$("html"),o=$(".site__header"),a=($("body, html"),e.find("input")),i=$(".search-btn"),r=(e.find(".search__wrap form"),e.find(".search__results")),c=e.find(".search__found dd"),l=$("body").attr("data-action"),f=new XMLHttpRequest,p=function(){i.on({click:function(){$(this).hasClass("get-in-touch-opened")||(h($(this)),setTimeout(function(){a.focus()},300))}}),a.on({keyup:function(){var t=$(this).val();f.abort(),f=$.ajax({url:l,data:{action:"gotit",text:t},dataType:"json",timeout:2e4,type:"get",success:function(t){u(t)},error:function(t){"abort"!=t.statusText&&alert("Error!")}})}}),$(window).on({keyup:function(t){27==t.which&&(i.removeClass("opened"),e.removeClass("opened"),n.css({"overflow-y":"auto"}),$(".site")[0].obj.setCanUseScroll(!0),o.css({"z-index":2}))}})},u=function(t){var s=t.items;if($(".search__results span").remove(),c.text(t.count),t.count>0)for(var e=0;e<s.length;e++)r.append('<span class="new"><a href="'+s[e].link+'">'+s[e].title+"</a></span> ")},h=function(t){var s=t;s.hasClass("opened")?(s.removeClass("opened"),e.removeClass("opened"),n.css({"overflow-y":"auto"}),$(".site")[0].obj.setCanUseScroll(!0),o.css({"z-index":2})):(s.addClass("opened"),e.addClass("opened"),$(".site__menu, .site__menu-btn, .get-in-touch").removeClass("opened"),n.css({"overflow-y":"hidden"}),$(".site")[0].obj.setCanUseScroll(!1),o.css({"z-index":15}))};e[0].obj=s,p()},a=function(t){var s=this,e=t,n=$("html"),o=$(".site__header"),a=e.find("textarea"),i=e.find(".get-in-touch__submit, .gform_footer"),r=$(".get-in-touch-btn"),c=function(){$(window).on({keyup:function(t){27==t.which&&($(".search-btn").removeClass("get-in-touch-opened"),e.removeClass("opened"),n.css({"overflow-y":"auto"}),$(".site")[0].obj.setCanUseScroll(!0),o.css({"z-index":2}))}}),r.on({click:function(){return f(),!1}}),a.on({keyup:function(){var t=$(this).val();""!=!t||i.hasClass("show")||i.addClass("show"),""==t&&i.removeClass("show")}}),$(".search-btn").on({click:function(){$(this).hasClass("get-in-touch-opened")&&($(this).removeClass("get-in-touch-opened"),l())}})},l=function(){e.removeClass("opened"),n.css({"overflow-y":"auto"}),$(".site")[0].obj.setCanUseScroll(!0),o.css({"z-index":2})},f=function(){e.addClass("opened"),$(".search-btn").addClass("get-in-touch-opened"),n.css({"overflow-y":"hidden"}),$(".site")[0].obj.setCanUseScroll(!1),o.css({"z-index":15})};e[0].obj=s,c()}}();
!function(){"use strict";$(function(){$.each($(".site__header"),function(){new e($(this))})});var e=function(e){var s=this,n=e,o=n.find(".site__menu"),t=$("html"),i=$(".site__menu-btn"),c=function(){i.on({click:function(){a($(this))}}),$(window).on({keyup:function(e){27==e.which&&(i.removeClass("opened"),o.removeClass("opened"),t.css({"overflow-y":"auto"}),$(".site")[0].obj.setCanUseScroll(!0),n.css({"z-index":2}))}})},a=function(e){var s=e;s.hasClass("opened")?(s.removeClass("opened"),o.removeClass("opened"),t.css({"overflow-y":"auto"}),$(".site")[0].obj.setCanUseScroll(!0),n.css({"z-index":2})):(s.addClass("opened"),o.addClass("opened"),$(".search, .search-btn, .get-in-touch").removeClass("opened"),$(".get-in-touch-opened").removeClass("get-in-touch-opened"),t.css({"overflow-y":"hidden"}),$(".site")[0].obj.setCanUseScroll(!1),n.css({"z-index":15}))};n[0].obj=s,c()}}();
!function(){"use strict";$(function(){$.each($(".contact__map"),function(){new e($(this))})});var e=function(e){var t,l=e,s=[],o=null,r=function(){var e={drag:!1,dragable:!1,disableDefaultUI:!0,scrollwheel:!1,styles:[{featureType:"water",elementType:"geometry",stylers:[{color:"#e9e9e9"},{lightness:17}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:20}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#333333"},{lightness:40}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]}]};t=new google.maps.Map(l[0],e),n(t)},f=function(){},n=function(e){for(var t=0;t<o.places.length;t++)a(t,e)},a=function(e,l){var r=o.places[e],f=o.icon,n=new google.maps.LatLng(r.lat,r.lng),a=new google.maps.LatLngBounds;s[e]=new google.maps.Marker({position:n,map:l,clickable:!1,icon:{url:f,scaledSize:new google.maps.Size(24,33)}});for(var i=0;i<s.length;i++)""!==s[i]&&a.extend(s[i].getPosition());t.fitBounds(a)};(function(){o=l.data("map"),r()})(),f()}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5pbmRleC5qcyIsImpxdWVyeS5tYWluLmpzIiwianF1ZXJ5Lm1hcC5qcyJdLCJuYW1lcyI6WyIkIiwid2luZG93Iiwib24iLCJsb2FkIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJlYWNoIiwiSGVybyIsInRoaXMiLCJTZXJ2aWNlcyIsIlNob3ciLCJTaXRlIiwiU2VhcmNoIiwiR2V0SW5Ub3VjaCIsIm9iaiIsIl9zZWxmIiwiX29iaiIsIl90aXRsZSIsImZpbmQiLCJfY3JlYXRlRWxlbXMiLCJlbGVtIiwiZWxlbVRleHQiLCJkYXRhIiwiaSIsImxlbmd0aCIsInN1YnN0ciIsImNoYXJDb2RlQXQiLCJhcHBlbmQiLCJfc3dpcGVyIiwiX3NsaWRlciIsIl9zbGlkZXJQYWdpbmF0aW9uIiwiX3NsaWRlck5leHQiLCJfc2xpZGVyUHJldiIsIl9pbml0U2xpZGVyIiwiU3dpcGVyIiwicGFnaW5hdGlvbiIsInBhZ2luYXRpb25DbGlja2FibGUiLCJuZXh0QnV0dG9uIiwicHJldkJ1dHRvbiIsInNwYWNlQmV0d2VlbiIsIl93aW5kb3ciLCJfb25FdmVudHMiLCJzY3JvbGwiLCJfY2hlY2tTY3JvbGwiLCJ3aW5kb3dIIiwiaGVpZ2h0IiwiY3VySXRlbSIsInRvcFBvcyIsIm9mZnNldCIsInRvcCIsImhhc0NsYXNzIiwic2xpZGVzIiwiX2Zvb3RlciIsIl9mb290ZXJMb2dvVG9wIiwiX2NhblVzZVNtb290aFNjcm9sbCIsIl9hZGRFdmVudHMiLCJfbW92ZSIsIm1vdXNld2hlZWwiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiX3NpdGVTY3JvbGwiLCJET01Nb3VzZVNjcm9sbCIsImNzcyIsIi13ZWJraXQtdHJhbnNmb3JtIiwidHJhbnNmb3JtIiwib2Zmc2V0RWxlbSIsImRlbHRhIiwib3JpZ2luYWxFdmVudCIsIndoZWVsRGVsdGEiLCJkZXRhaWwiLCJmaW5hbFNjcm9sbCIsInBhcnNlSW50IiwiVHdlZW5NYXgiLCJ0byIsInNjcm9sbFRvIiwieSIsImF1dG9LaWxsIiwiZWFzZSIsIlBvd2VyMSIsImVhc2VPdXQiLCJvdmVyd3JpdGUiLCJzZXRDYW5Vc2VTY3JvbGwiLCJwYXJhbSIsIl9odG1sIiwiX2hlYWRlciIsIl9zZWFyY2hGaWVsZCIsIl9zaG93QnRuIiwiX3Jlc3VsdHMiLCJfZm91bmRzIiwiX3BhdGgiLCJhdHRyIiwiX3JlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsImNsaWNrIiwiX29wZW5TZWFjaCIsInNldFRpbWVvdXQiLCJmb2N1cyIsImtleXVwIiwidGV4dCIsInZhbCIsImFib3J0IiwiYWpheCIsInVybCIsImFjdGlvbiIsImRhdGFUeXBlIiwidGltZW91dCIsInR5cGUiLCJzdWNjZXNzIiwiX2NyZWF0ZVJlc3VsdCIsImVycm9yIiwic3RhdHVzVGV4dCIsImFsZXJ0IiwiZSIsIndoaWNoIiwib3ZlcmZsb3cteSIsInotaW5kZXgiLCJpdGVtcyIsInJlbW92ZSIsImNvdW50IiwibGluayIsInRpdGxlIiwiX3RleHRhcmVhIiwiX3N1Ym1pdCIsIl9vcGVuIiwiZWxlbVZhbHVlIiwiX2Nsb3NlIiwiTWVudSIsIl9tZW51IiwiX3Njcm9sbGVyIiwiX29wZW5NZW51IiwiTWFwIiwiX21hcCIsIl93cmFwIiwiX21hcmtlcnMiLCJfZGF0YSIsIl9pbml0TWFwIiwibWFwT3B0aW9ucyIsImRyYWciLCJkcmFnYWJsZSIsImRpc2FibGVEZWZhdWx0VUkiLCJzY3JvbGx3aGVlbCIsInN0eWxlcyIsImZlYXR1cmVUeXBlIiwiZWxlbWVudFR5cGUiLCJzdHlsZXJzIiwiY29sb3IiLCJsaWdodG5lc3MiLCJ3ZWlnaHQiLCJ2aXNpYmlsaXR5Iiwic2F0dXJhdGlvbiIsImdvb2dsZSIsIm1hcHMiLCJfc2V0TWFya2VycyIsIm1hcCIsImoiLCJfYWRkTWFya2VyIiwiY3VySWNvblVybCIsImN1ckxhdExuZyIsIkxhdExuZyIsImJvdW5kcyIsIkxhdExuZ0JvdW5kcyIsIk1hcmtlciIsInBvc2l0aW9uIiwiY2xpY2thYmxlIiwiaWNvbiIsInNjYWxlZFNpemUiLCJTaXplIiwiZXh0ZW5kIiwiZ2V0UG9zaXRpb24iLCJmaXRCb3VuZHMiXSwibWFwcGluZ3MiOiJDQUFBLFdBRUlBLEVBQUUsV0FFRUEsRUFBR0MsUUFBU0MsSUFDUkMsS0FBUSxXQUVKSCxFQUFFLGNBQWNJLFNBQVNDLFVBQVcsR0FBRyxHQUN2Q0wsRUFBRSxZQUFZTSxZQUFZLFVBQzFCTixFQUFFLFNBQVNPLFNBQVMsYUFDcEJQLEVBQUUsb0JBQW9CTyxTQUFTLGdCQUt2Q1AsRUFBRSxTQUFTUSxLQUFNLFdBQ2IsSUFBSUMsRUFBTVQsRUFBRVUsU0FHaEJWLEVBQUUsYUFBYVEsS0FBTSxXQUNqQixJQUFJRyxFQUFVWCxFQUFFVSxTQUdwQlYsRUFBRSxTQUFTUSxLQUFNLFdBQ2IsSUFBSUksRUFBTVosRUFBRVUsU0FHaEJWLEVBQUUsU0FBU1EsS0FBTSxXQUNiLElBQUlLLEVBQU1iLEVBQUVVLFNBR2hCVixFQUFFLFdBQVdRLEtBQU0sV0FDZixJQUFJTSxFQUFRZCxFQUFFVSxTQUdsQlYsRUFBRSxpQkFBaUJRLEtBQU0sV0FDckIsSUFBSU8sRUFBWWYsRUFBRVUsV0FLMUIsSUFBSUQsRUFBTyxTQUFVTyxHQUdqQixJQUFJQyxFQUFRUCxLQUNSUSxFQUFPRixFQUNQRyxFQUFTRCxFQUFLRSxLQUFNLGdCQVFwQkMsRUFBZSxXQUNYRixFQUFPWCxLQUFNLFdBSVQsSUFBTSxJQUhGYyxFQUFPdEIsRUFBRVUsTUFDVGEsRUFBV0QsRUFBS0UsS0FBTSxRQUVoQkMsRUFBSSxFQUFHQSxFQUFJRixFQUFTRyxPQUFRRCxJQUdILElBRmhCRixFQUFTSSxPQUFPRixFQUFHLEdBRXBCRyxXQUFXLEdBQ3JCTixFQUFLTyxPQUFRLHVCQUViUCxFQUFLTyxPQUFRLFNBQVdOLEVBQVNJLE9BQU9GLEVBQUcsR0FBSyxlQUtwRCxnQkFuQlJQLEVBQUssR0FBR0YsSUFBTUMsRUFDZEksS0E2QlJWLEVBQVcsU0FBVUssR0FHckIsSUFNSWMsRUFOQWIsRUFBUVAsS0FDUlEsRUFB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RUFBYyxTQUFXQyxHQUVyQixJQUFNLElBQUlDLEVBQUcsRUFBR0EsRUFBSXBCLEVBQWdCLE9BQUU5RyxPQUFRa0ksSUFFMUNDLEVBQVlELEVBQUdELElBR3ZCRSxFQUFhLFNBQVdwSSxFQUFHa0ksR0FFdkIsSUFBSTNHLEVBQVV3RixFQUFnQixPQUFHL0csR0FDN0JxSSxFQUFhdEIsRUFBYyxLQUMzQnVCLEVBQVksSUFBSVAsT0FBT0MsS0FBS08sT0FBUWhILEVBQWUsSUFBR0EsRUFBZSxLQUNyRWlILEVBQVMsSUFBSVQsT0FBT0MsS0FBS1MsYUFFN0IzQixFQUFVOUcsR0FBTSxJQUFJK0gsT0FBT0MsS0FBS1UsUUFDNUJDLFNBQVVMLEVBQ1ZKLElBQUtBLEVBQ0xVLFdBQVcsRUFDWEMsTUFDSTlELElBQUtzRCxFQUNMUyxXQUFZLElBQUlmLE9BQU9DLEtBQUtlLEtBQU0sR0FBSSxPQUk5QyxJQUFNLElBQUlaLEVBQUksRUFBR0EsRUFBSXJCLEVBQVM3RyxPQUFRa0ksSUFFWCxLQUFsQnJCLEVBQVVxQixJQUNYSyxFQUFPUSxPQUFRbEMsRUFBVXFCLEdBQUljLGVBR3JDckMsRUFBS3NDLFVBQVdWLEtBekNSLFdBRVJ6QixFQUFRRixFQUFNOUcsS0FBTSxPQUVwQmlILFFBckJBOUYiLCJmaWxlIjoiY29udGFjdC11cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoIGZ1bmN0aW9uKCl7XG5cbiAgICAkKGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgJCggd2luZG93ICkub24oIHtcbiAgICAgICAgICAgICdsb2FkJzogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe3Njcm9sbFRvcDogMH0sMSk7XG4gICAgICAgICAgICAgICAgJCgnLmxvYWRpbmcnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgJCgnLmhlcm8nKS5hZGRDbGFzcygnaXMtaW52aWV3Jyk7XG4gICAgICAgICAgICAgICAgJCgnLmFib3V0LXVzX2RldGFpbCcpLmFkZENsYXNzKCdpcy1pbnZpZXcnKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJCgnLmhlcm8nKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5ldyBIZXJvKCAkKHRoaXMpICk7XG4gICAgICAgIH0gKTtcblxuICAgICAgICAkKCcuc2VydmljZXMnKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5ldyBTZXJ2aWNlcyggJCh0aGlzKSApO1xuICAgICAgICB9ICk7XG5cbiAgICAgICAgJCgnLnNob3cnKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5ldyBTaG93KCAkKHRoaXMpICk7XG4gICAgICAgIH0gKTtcblxuICAgICAgICAkKCcuc2l0ZScpLmVhY2goIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbmV3IFNpdGUoICQodGhpcykgKTtcbiAgICAgICAgfSApO1xuXG4gICAgICAgICQoJy5zZWFyY2gnKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5ldyBTZWFyY2goICQodGhpcykgKTtcbiAgICAgICAgfSApO1xuXG4gICAgICAgICQoJy5nZXQtaW4tdG91Y2gnKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5ldyBHZXRJblRvdWNoKCAkKHRoaXMpICk7XG4gICAgICAgIH0gKTtcblxuICAgIH0pO1xuXG4gICAgdmFyIEhlcm8gPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfdGl0bGUgPSBfb2JqLmZpbmQoICcuaGVyb19fdGl0bGUnICk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9jb25zdHJ1Y3RvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9jcmVhdGVFbGVtcygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jcmVhdGVFbGVtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGl0bGUuZWFjaCggZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtVGV4dCA9IGVsZW0uZGF0YSggJ3RleHQnICk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBlbGVtVGV4dC5sZW5ndGg7IGkrKyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbGVtQ2hhciA9IGVsZW1UZXh0LnN1YnN0cihpLCAxKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBlbGVtQ2hhci5jaGFyQ29kZUF0KDApID09IDMyICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uYXBwZW5kKCAnPHNwYW4+Jm5ic3A7PC9zcGFuPicgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5hcHBlbmQoICc8c3Bhbj4nICsgZWxlbVRleHQuc3Vic3RyKGksIDEpICsgJzwvc3Bhbj4nICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG5cbiAgICAgICAgX2NvbnN0cnVjdG9yKCk7XG4gICAgfTtcblxuICAgIHZhciBTZXJ2aWNlcyA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9zbGlkZXIgPSBfb2JqLmZpbmQoICcuc3dpcGVyLWNvbnRhaW5lcicgKSxcbiAgICAgICAgICAgIF9zbGlkZXJQYWdpbmF0aW9uID0gX29iai5maW5kKCAnLnN3aXBlci1wYWdpbmF0aW9uJyApLFxuICAgICAgICAgICAgX3NsaWRlck5leHQgPSBfb2JqLmZpbmQoICcuc3dpcGVyLWJ1dHRvbi1uZXh0JyApLFxuICAgICAgICAgICAgX3NsaWRlclByZXYgPSBfb2JqLmZpbmQoICcuc3dpcGVyLWJ1dHRvbi1wcmV2JyApLFxuICAgICAgICAgICAgX3N3aXBlcjtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2NvbnN0cnVjdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2luaXRTbGlkZXIoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdFNsaWRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfc3dpcGVyID0gbmV3IFN3aXBlciggX3NsaWRlciwge1xuICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiBfc2xpZGVyUGFnaW5hdGlvbixcbiAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbkNsaWNrYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbmV4dEJ1dHRvbjogX3NsaWRlck5leHQsXG4gICAgICAgICAgICAgICAgICAgIHByZXZCdXR0b246IF9zbGlkZXJQcmV2LFxuICAgICAgICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDMwXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG5cbiAgICAgICAgX2NvbnN0cnVjdG9yKCk7XG4gICAgfTtcblxuICAgIHZhciBTaG93ID0gZnVuY3Rpb24gKCBvYmogKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2hlY2tTY3JvbGwgPSBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgdmFyIHdpbmRvd0ggPSBfd2luZG93LmhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgX29iai5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3BQb3MgPSBfb2JqLm9mZnNldCgpLnRvcDtcblxuICAgICAgICAgICAgICAgICAgICBpZiggKCBfd2luZG93LnNjcm9sbFRvcCgpICsgd2luZG93SCowLjggKSA+IHRvcFBvcyAmJiAhY3VySXRlbS5oYXNDbGFzcyggJ2FuaW1hdGlvbicgKSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBjdXJJdGVtLmhhc0NsYXNzKCAnc2hvd19pcycgKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLmFkZENsYXNzKCAnaXMtaW52aWV3JyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLmFkZENsYXNzKCAnYW5pbWF0aW9uJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLnNsaWRlcyA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBTaXRlID0gZnVuY3Rpb24ob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXG4gICAgICAgICAgICBfZm9vdGVyID0gJCggJy5zaXRlX19mb290ZXInICksXG4gICAgICAgICAgICBfZm9vdGVyTG9nb1RvcCA9IF9mb290ZXIuZmluZCggJy5zaXRlX19mb290ZXItbG9nbycgKSxcbiAgICAgICAgICAgIF9jYW5Vc2VTbW9vdGhTY3JvbGwgPSB0cnVlO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKHtcbiAgICAgICAgICAgICAgICAgICAgJ3Njcm9sbCc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbFRvcCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX21vdmUoIHNjcm9sbFRvcCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoICggX2Zvb3RlckxvZ29Ub3Aub2Zmc2V0KCkudG9wIC0gc2Nyb2xsVG9wICkgPCAkKHdpbmRvdykuaGVpZ2h0KCkgKiAxLjEgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Zvb3Rlci5hZGRDbGFzcyggJ2lzLWludmlldycgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Zvb3Rlci5yZW1vdmVDbGFzcyggJ2lzLWludmlldycgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbih7XG4gICAgICAgICAgICAgICAgICAgICdtb3VzZXdoZWVsJzogZnVuY3Rpb24oIGV2ZW50ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBfY2FuVXNlU21vb3RoU2Nyb2xsICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2l0ZVNjcm9sbCggZXZlbnQgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJ0RPTU1vdXNlU2Nyb2xsJzogZnVuY3Rpb24oIGV2ZW50ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBfY2FuVXNlU21vb3RoU2Nyb2xsICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2l0ZVNjcm9sbCggZXZlbnQgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX21vdmUgPSBmdW5jdGlvbiggc2Nyb2xsVG9wICl7XG5cbiAgICAgICAgICAgICAgICAkKCcuaGVyb19fdGl0bGUnKS5lYWNoKCBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICBrb2VmWCA9IC44O1xuXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoIGkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSggJyArICggLSBzY3JvbGxUb3AgKiBrb2VmWCApICsgJ3B4LCAwcHggKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAnICsgKCAtIHNjcm9sbFRvcCAqIGtvZWZYICkgKyAncHgsIDBweCApJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAnICsgKCAtIHNjcm9sbFRvcCAqIGtvZWZYICogMiApICsgJ3B4LCAwcHggKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAnICsgKCAtIHNjcm9sbFRvcCAqIGtvZWZYICogMiApICsgJ3B4LCAwcHggKSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgICQoICcuaGVyb19fYmFuJyApLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAwcHgsICcgKyAoIHNjcm9sbFRvcCAqIC4xKSArICdweCApJyxcbiAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUoIDBweCwgJyArICggc2Nyb2xsVG9wICogLjEpICsgJ3B4ICknXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgJCgnLmFib3V0LXVzX19jb2x1bW4nKS5lYWNoKCBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRFbGVtID0gZWxlbS5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICBrb2VmWSA9IC4wNTtcblxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKCBpICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGUoIDBweCwgJyArICggLSAoIHNjcm9sbFRvcCAtIG9mZnNldEVsZW0gKSAqIGtvZWZZICkgKyAncHggKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAwcHgsICcgKyAoIC0gKCBzY3JvbGxUb3AgLSBvZmZzZXRFbGVtICkgKiBrb2VmWSApICsgJ3B4ICknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGUoIDBweCwgJyArICggKCBzY3JvbGxUb3AgLSBvZmZzZXRFbGVtICkgKiBrb2VmWSApICsgJ3B4ICknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSggMHB4LCAnICsgKCAoIHNjcm9sbFRvcCAtIG9mZnNldEVsZW0gKSAqIGtvZWZZICkgKyAncHggKSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgJCgnLmFib3V0LXVzIC5idG5fcGx1cycpLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAwcHgsICcgKyAoIHNjcm9sbFRvcCAqIC4wNSApICsgJ3B4ICknLFxuICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSggMHB4LCAnICsgKCBzY3JvbGxUb3AgKiAuMDUgKSArICdweCApJ1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICQoJy5hYm91dC11c19faW1hZ2UnKS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSggMHB4LCAnICsgKCBzY3JvbGxUb3AgKiAwLjEgKSArICdweCApJyxcbiAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUoIDBweCwgJyArICggc2Nyb2xsVG9wICogMC4xICkgKyAncHggKSdcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAkKCcuYmFkZ2UnKS5lYWNoKCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldEVsZW0gPSBlbGVtLm9mZnNldCgpLnRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtvZWZZID0gLjU7XG5cbiAgICAgICAgICAgICAgICAgICAgZWxlbS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGUoIDBweCwgJyArICggKCBzY3JvbGxUb3AgLSBvZmZzZXRFbGVtICkgKiBrb2VmWSApICsgJ3B4ICknLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUoIDBweCwgJyArICggKCBzY3JvbGxUb3AgLSBvZmZzZXRFbGVtICkgKiBrb2VmWSApICsgJ3B4ICknXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAkKCcuY2FzZS1wcmV2aWV3X19pdGVtJykuZWFjaCggZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0RWxlbSA9IGVsZW0ub2Zmc2V0KCkudG9wLFxuICAgICAgICAgICAgICAgICAgICAgICAga29lZlkgPSAuMDU7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBpID09IDEgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGUoIDBweCwgJyArICggKCBzY3JvbGxUb3AgLSBvZmZzZXRFbGVtICkgKiBrb2VmWSApICsgJ3B4ICknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAwcHgsICcgKyAoICggc2Nyb2xsVG9wIC0gb2Zmc2V0RWxlbSApICoga29lZlkgKSArICdweCApJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAwcHgsICcgKyAoIC0gKCBzY3JvbGxUb3AgLSBvZmZzZXRFbGVtICkgKiBrb2VmWSApICsgJ3B4ICknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAwcHgsICcgKyAoIC0gKCBzY3JvbGxUb3AgLSBvZmZzZXRFbGVtICkgKiBrb2VmWSApICsgJ3B4ICknXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICQoJy5jb250YWN0LXVzX19sb2dvJykuZWFjaCggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldEVsZW0gPSBlbGVtLm9mZnNldCgpLnRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtvZWZZID0gLjE1O1xuXG4gICAgICAgICAgICAgICAgICAgIGVsZW0uY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAnICsgKCAoIHNjcm9sbFRvcCAtIG9mZnNldEVsZW0gKSAqIGtvZWZZICkgKyAncHgsIDBweCApJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAnICsgKCAoIHNjcm9sbFRvcCAtIG9mZnNldEVsZW0gKSAqIGtvZWZZICkgKyAncHgsIDBweCApJ1xuICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgJCgnLm91ci1zZXJ2aWNlc19faXRlbS1waWMnKS5lYWNoKCBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRFbGVtID0gZWxlbS5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICBrb2VmWSA9IC4xO1xuXG4gICAgICAgICAgICAgICAgICAgIGVsZW0uY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAwcHgsICcgKyAoICggc2Nyb2xsVG9wIC0gb2Zmc2V0RWxlbSApICoga29lZlkgKSArICdweCApJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAwcHgsICcgKyAoICggc2Nyb2xsVG9wIC0gb2Zmc2V0RWxlbSApICoga29lZlkgKSArICdweCApJ1xuICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zaXRlU2Nyb2xsID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxUaW1lID0gMS4yLFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxEaXN0YW5jZSA9IDE3MCxcbiAgICAgICAgICAgICAgICAgICAgZGVsdGEgPSBldmVudC5vcmlnaW5hbEV2ZW50LndoZWVsRGVsdGEvMTIwIHx8IC1ldmVudC5vcmlnaW5hbEV2ZW50LmRldGFpbC8zLFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb3AgPSBfd2luZG93LnNjcm9sbFRvcCgpLFxuICAgICAgICAgICAgICAgICAgICBmaW5hbFNjcm9sbCA9IHNjcm9sbFRvcCAtIHBhcnNlSW50KCBkZWx0YSAqIHNjcm9sbERpc3RhbmNlICk7XG5cbiAgICAgICAgICAgICAgICBUd2Vlbk1heC50byggX3dpbmRvdywgc2Nyb2xsVGltZSwge1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUbyA6IHsgeTogZmluYWxTY3JvbGwsIGF1dG9LaWxsOnRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgZWFzZTogUG93ZXIxLmVhc2VPdXQsXG4gICAgICAgICAgICAgICAgICAgIG92ZXJ3cml0ZTogNVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX29ialsgMCBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcbiAgICAgICAgX3NlbGYuc2V0Q2FuVXNlU2Nyb2xsID0gZnVuY3Rpb24gKCBwYXJhbSApIHtcblxuICAgICAgICAgICAgX2NhblVzZVNtb290aFNjcm9sbCA9IHBhcmFtO1xuICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBTZWFyY2ggPSBmdW5jdGlvbiggb2JqICkge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX2h0bWwgPSAkKCAnaHRtbCcgKSxcbiAgICAgICAgICAgIF9oZWFkZXIgPSAkKCAnLnNpdGVfX2hlYWRlcicgKSxcbiAgICAgICAgICAgIF9zY3JvbGxlciA9ICQoICdib2R5LCBodG1sJyApLFxuICAgICAgICAgICAgX3NlYXJjaEZpZWxkID0gX29iai5maW5kKCAnaW5wdXQnICksXG4gICAgICAgICAgICBfc2hvd0J0biA9ICQoICcuc2VhcmNoLWJ0bicgKSxcbiAgICAgICAgICAgIF9mb3JtID0gX29iai5maW5kKCAnLnNlYXJjaF9fd3JhcCBmb3JtJyApLFxuICAgICAgICAgICAgX3Jlc3VsdHMgPSBfb2JqLmZpbmQoICcuc2VhcmNoX19yZXN1bHRzJyApLFxuICAgICAgICAgICAgX2ZvdW5kcyA9IF9vYmouZmluZCggJy5zZWFyY2hfX2ZvdW5kIGRkJyApLFxuICAgICAgICAgICAgX3BhdGggPSAkKCAnYm9keScgKS5hdHRyKCAnZGF0YS1hY3Rpb24nICksXG4gICAgICAgICAgICBfcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfY29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqWyAwIF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfc2hvd0J0bi5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggISQodGhpcykuaGFzQ2xhc3MoICdnZXQtaW4tdG91Y2gtb3BlbmVkJyApICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vcGVuU2VhY2goICQoIHRoaXMgKSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlYXJjaEZpZWxkLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwIClcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9zZWFyY2hGaWVsZC5vbigge1xuICAgICAgICAgICAgICAgICAgICBrZXl1cDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dCA9ICQodGhpcykudmFsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVxdWVzdCA9ICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBfcGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ2dvdGl0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogdGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiAyMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdldFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICggZGF0YSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY3JlYXRlUmVzdWx0KCBkYXRhICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoIFhNTEh0dHBSZXF1ZXN0ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggWE1MSHR0cFJlcXVlc3Quc3RhdHVzVGV4dCAhPSBcImFib3J0XCIgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCggJ0Vycm9yIScgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAkKHdpbmRvdykub24oIHtcbiAgICAgICAgICAgICAgICAgICAga2V5dXA6IGZ1bmN0aW9uKGUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUud2hpY2ggPT0gMjcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2hvd0J0bi5yZW1vdmVDbGFzcyggJ29wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2h0bWwuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoICcuc2l0ZScgKVswXS5vYmouc2V0Q2FuVXNlU2Nyb2xsKCB0cnVlICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaGVhZGVyLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd6LWluZGV4JzogMlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jcmVhdGVSZXN1bHQgPSBmdW5jdGlvbiAoIGRhdGEgKSB7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1zID0gZGF0YS5pdGVtcztcblxuICAgICAgICAgICAgICAgICQoICcuc2VhcmNoX19yZXN1bHRzIHNwYW4nICkucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgICAgICBfZm91bmRzLnRleHQoIGRhdGEuY291bnQgKTtcblxuICAgICAgICAgICAgICAgIGlmICggZGF0YS5jb3VudCA+IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoIHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVzdWx0cy5hcHBlbmQoICc8c3BhbiBjbGFzcz1cIm5ld1wiPjxhIGhyZWY9XCInKyBpdGVtc1tpXS5saW5rICsnXCI+JyArIGl0ZW1zW2ldLnRpdGxlICsgJzwvYT48L3NwYW4+ICcgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vcGVuU2VhY2ggPSBmdW5jdGlvbiggZWxlbSApICB7XG5cbiAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9IGVsZW07XG5cbiAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5oYXNDbGFzcyggJ29wZW5lZCcgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuXG4gICAgICAgICAgICAgICAgICAgIF9odG1sLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cteSc6ICdhdXRvJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAkKCAnLnNpdGUnIClbMF0ub2JqLnNldENhblVzZVNjcm9sbCggdHJ1ZSApO1xuXG4gICAgICAgICAgICAgICAgICAgIF9oZWFkZXIuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICd6LWluZGV4JzogMlxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5hZGRDbGFzcyggJ29wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ29wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICAgICAgJCggJy5zaXRlX19tZW51LCAuc2l0ZV9fbWVudS1idG4sIC5nZXQtaW4tdG91Y2gnICkucmVtb3ZlQ2xhc3MoICdvcGVuZWQnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgX2h0bWwuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgJCggJy5zaXRlJyApWzBdLm9iai5zZXRDYW5Vc2VTY3JvbGwoIGZhbHNlICk7XG5cbiAgICAgICAgICAgICAgICAgICAgX2hlYWRlci5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3otaW5kZXgnOiAxNVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9jb25zdHJ1Y3RvcigpO1xuICAgIH07XG5cbiAgICB2YXIgR2V0SW5Ub3VjaCA9IGZ1bmN0aW9uKCBvYmogKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfaHRtbCA9ICQoICdodG1sJyApLFxuICAgICAgICAgICAgX2hlYWRlciA9ICQoICcuc2l0ZV9faGVhZGVyJyApLFxuICAgICAgICAgICAgX3RleHRhcmVhID0gX29iai5maW5kKCAndGV4dGFyZWEnICksXG4gICAgICAgICAgICBfc3VibWl0ID0gX29iai5maW5kKCAnLmdldC1pbi10b3VjaF9fc3VibWl0LCAuZ2Zvcm1fZm9vdGVyJyApLFxuICAgICAgICAgICAgX3Nob3dCdG4gPSAkKCAnLmdldC1pbi10b3VjaC1idG4nICk7XG4gICAgICAgIFxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2NvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX29ialsgMCBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgJCh3aW5kb3cpLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGtleXVwOiBmdW5jdGlvbihlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLndoaWNoID09IDI3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCggJy5zZWFyY2gtYnRuJyApLnJlbW92ZUNsYXNzKCAnZ2V0LWluLXRvdWNoLW9wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2h0bWwuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoICcuc2l0ZScgKVswXS5vYmouc2V0Q2FuVXNlU2Nyb2xsKCB0cnVlICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaGVhZGVyLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd6LWluZGV4JzogMlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3Nob3dCdG4ub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfb3BlbigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfdGV4dGFyZWEub24oIHtcbiAgICAgICAgICAgICAgICAgICAga2V5dXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1WYWx1ZSA9IGVsZW0udmFsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggIWVsZW1WYWx1ZSA9PSAnJyAmJiAhX3N1Ym1pdC5oYXNDbGFzcyggJ3Nob3cnICkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N1Ym1pdC5hZGRDbGFzcyggJ3Nob3cnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggZWxlbVZhbHVlID09ICcnICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdWJtaXQucmVtb3ZlQ2xhc3MoICdzaG93JyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgJCggJy5zZWFyY2gtYnRuJyApLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAkKHRoaXMpLmhhc0NsYXNzKCAnZ2V0LWluLXRvdWNoLW9wZW5lZCcgKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCAnZ2V0LWluLXRvdWNoLW9wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2xvc2UgPSBmdW5jdGlvbigpICB7XG5cbiAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuXG4gICAgICAgICAgICAgICAgX2h0bWwuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnYXV0bydcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICQoICcuc2l0ZScgKVswXS5vYmouc2V0Q2FuVXNlU2Nyb2xsKCB0cnVlICk7XG5cbiAgICAgICAgICAgICAgICBfaGVhZGVyLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICd6LWluZGV4JzogMlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vcGVuID0gZnVuY3Rpb24oKSAge1xuXG4gICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ29wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICAkKCAnLnNlYXJjaC1idG4nICkuYWRkQ2xhc3MoICdnZXQtaW4tdG91Y2gtb3BlbmVkJyApO1xuXG4gICAgICAgICAgICAgICAgX2h0bWwuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgJCggJy5zaXRlJyApWzBdLm9iai5zZXRDYW5Vc2VTY3JvbGwoIGZhbHNlICk7XG5cbiAgICAgICAgICAgICAgICBfaGVhZGVyLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICd6LWluZGV4JzogMTVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2NvbnN0cnVjdG9yKCk7XG4gICAgfTtcblxufSApKCk7XG4iLCIoIGZ1bmN0aW9uKCkge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgJCggZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5zaXRlX19oZWFkZXInICksIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgbmV3IE1lbnUgKCAkKCB0aGlzICkgKTtcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIE1lbnUgPSBmdW5jdGlvbiggb2JqICkge1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xyXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgIF9vYmogPSBvYmosXHJcbiAgICAgICAgICAgIF9tZW51ID0gX29iai5maW5kKCAnLnNpdGVfX21lbnUnICksXHJcbiAgICAgICAgICAgIF9zY3JvbGxlciA9ICQoICdodG1sJyApLFxyXG4gICAgICAgICAgICBfc2hvd0J0biA9ICQoICcuc2l0ZV9fbWVudS1idG4nICk7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXHJcbiAgICAgICAgdmFyIF9jb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgX29ialsgMCBdLm9iaiA9IF9zZWxmO1xyXG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF9zaG93QnRuLm9uKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX29wZW5NZW51KCAkKCB0aGlzICkgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgJCh3aW5kb3cpLm9uKCB7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5dXA6IGZ1bmN0aW9uKGUpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLndoaWNoID09IDI3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2hvd0J0bi5yZW1vdmVDbGFzcyggJ29wZW5lZCcgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tZW51LnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zY3JvbGxlci5jc3MoIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cteSc6ICdhdXRvJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoICcuc2l0ZScgKVswXS5vYmouc2V0Q2FuVXNlU2Nyb2xsKCB0cnVlICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd6LWluZGV4JzogMlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9vcGVuTWVudSA9IGZ1bmN0aW9uKCBlbGVtICkgIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9IGVsZW07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoIGN1ckl0ZW0uaGFzQ2xhc3MoICdvcGVuZWQnICkgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0ucmVtb3ZlQ2xhc3MoICdvcGVuZWQnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgX21lbnUucmVtb3ZlQ2xhc3MoICdvcGVuZWQnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9zY3JvbGxlci5jc3MoIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnYXV0bydcclxuICAgICAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICQoICcuc2l0ZScgKVswXS5vYmouc2V0Q2FuVXNlU2Nyb2xsKCB0cnVlICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9vYmouY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3otaW5kZXgnOiAyXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5hZGRDbGFzcyggJ29wZW5lZCcgKTtcclxuICAgICAgICAgICAgICAgICAgICBfbWVudS5hZGRDbGFzcyggJ29wZW5lZCcgKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCAnLnNlYXJjaCwgLnNlYXJjaC1idG4sIC5nZXQtaW4tdG91Y2gnICkucmVtb3ZlQ2xhc3MoICdvcGVuZWQnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCggJy5nZXQtaW4tdG91Y2gtb3BlbmVkJyApLnJlbW92ZUNsYXNzKCAnZ2V0LWluLXRvdWNoLW9wZW5lZCcgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX3Njcm9sbGVyLmNzcygge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cteSc6ICdoaWRkZW4nXHJcbiAgICAgICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkKCAnLnNpdGUnIClbMF0ub2JqLnNldENhblVzZVNjcm9sbCggZmFsc2UgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX29iai5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnei1pbmRleCc6IDE1XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIF9jb25zdHJ1Y3RvcigpO1xyXG4gICAgfTtcclxuXHJcbn0gKSgpOyIsIlxyXG4oIGZ1bmN0aW9uKCkge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgJCggZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5jb250YWN0X19tYXAnICksIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgbmV3IE1hcCAoICQoIHRoaXMgKSApO1xyXG5cclxuICAgICAgICB9ICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgTWFwID0gZnVuY3Rpb24gKCBvYmogKSB7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcclxuICAgICAgICAgICAgX3dyYXAgPSBvYmosXHJcbiAgICAgICAgICAgIF9tYXAsXHJcbiAgICAgICAgICAgIF9tYXJrZXJzID0gW10sXHJcbiAgICAgICAgICAgIF9kYXRhID0gbnVsbDtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcclxuICAgICAgICB2YXIgX2NvbnN0cnVjdG9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX2xvYWREYXRhKCk7XHJcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2luaXRNYXAgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG1hcE9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHJhZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgZHJhZ2FibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVEZWZhdWx0VUk6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsd2hlZWw6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlczogW3tcImZlYXR1cmVUeXBlXCI6XCJ3YXRlclwiLFwiZWxlbWVudFR5cGVcIjpcImdlb21ldHJ5XCIsXCJzdHlsZXJzXCI6W3tcImNvbG9yXCI6XCIjZTllOWU5XCJ9LHtcImxpZ2h0bmVzc1wiOjE3fV19LHtcImZlYXR1cmVUeXBlXCI6XCJsYW5kc2NhcGVcIixcImVsZW1lbnRUeXBlXCI6XCJnZW9tZXRyeVwiLFwic3R5bGVyc1wiOlt7XCJjb2xvclwiOlwiI2Y1ZjVmNVwifSx7XCJsaWdodG5lc3NcIjoyMH1dfSx7XCJmZWF0dXJlVHlwZVwiOlwicm9hZC5oaWdod2F5XCIsXCJlbGVtZW50VHlwZVwiOlwiZ2VvbWV0cnkuZmlsbFwiLFwic3R5bGVyc1wiOlt7XCJjb2xvclwiOlwiI2ZmZmZmZlwifSx7XCJsaWdodG5lc3NcIjoxN31dfSx7XCJmZWF0dXJlVHlwZVwiOlwicm9hZC5oaWdod2F5XCIsXCJlbGVtZW50VHlwZVwiOlwiZ2VvbWV0cnkuc3Ryb2tlXCIsXCJzdHlsZXJzXCI6W3tcImNvbG9yXCI6XCIjZmZmZmZmXCJ9LHtcImxpZ2h0bmVzc1wiOjI5fSx7XCJ3ZWlnaHRcIjowLjJ9XX0se1wiZmVhdHVyZVR5cGVcIjpcInJvYWQuYXJ0ZXJpYWxcIixcImVsZW1lbnRUeXBlXCI6XCJnZW9tZXRyeVwiLFwic3R5bGVyc1wiOlt7XCJjb2xvclwiOlwiI2ZmZmZmZlwifSx7XCJsaWdodG5lc3NcIjoxOH1dfSx7XCJmZWF0dXJlVHlwZVwiOlwicm9hZC5sb2NhbFwiLFwiZWxlbWVudFR5cGVcIjpcImdlb21ldHJ5XCIsXCJzdHlsZXJzXCI6W3tcImNvbG9yXCI6XCIjZmZmZmZmXCJ9LHtcImxpZ2h0bmVzc1wiOjE2fV19LHtcImZlYXR1cmVUeXBlXCI6XCJwb2lcIixcImVsZW1lbnRUeXBlXCI6XCJnZW9tZXRyeVwiLFwic3R5bGVyc1wiOlt7XCJjb2xvclwiOlwiI2Y1ZjVmNVwifSx7XCJsaWdodG5lc3NcIjoyMX1dfSx7XCJmZWF0dXJlVHlwZVwiOlwicG9pLnBhcmtcIixcImVsZW1lbnRUeXBlXCI6XCJnZW9tZXRyeVwiLFwic3R5bGVyc1wiOlt7XCJjb2xvclwiOlwiI2RlZGVkZVwifSx7XCJsaWdodG5lc3NcIjoyMX1dfSx7XCJlbGVtZW50VHlwZVwiOlwibGFiZWxzLnRleHQuc3Ryb2tlXCIsXCJzdHlsZXJzXCI6W3tcInZpc2liaWxpdHlcIjpcIm9uXCJ9LHtcImNvbG9yXCI6XCIjZmZmZmZmXCJ9LHtcImxpZ2h0bmVzc1wiOjE2fV19LHtcImVsZW1lbnRUeXBlXCI6XCJsYWJlbHMudGV4dC5maWxsXCIsXCJzdHlsZXJzXCI6W3tcInNhdHVyYXRpb25cIjozNn0se1wiY29sb3JcIjpcIiMzMzMzMzNcIn0se1wibGlnaHRuZXNzXCI6NDB9XX0se1wiZWxlbWVudFR5cGVcIjpcImxhYmVscy5pY29uXCIsXCJzdHlsZXJzXCI6W3tcInZpc2liaWxpdHlcIjpcIm9mZlwifV19LHtcImZlYXR1cmVUeXBlXCI6XCJ0cmFuc2l0XCIsXCJlbGVtZW50VHlwZVwiOlwiZ2VvbWV0cnlcIixcInN0eWxlcnNcIjpbe1wiY29sb3JcIjpcIiNmMmYyZjJcIn0se1wibGlnaHRuZXNzXCI6MTl9XX0se1wiZmVhdHVyZVR5cGVcIjpcImFkbWluaXN0cmF0aXZlXCIsXCJlbGVtZW50VHlwZVwiOlwiZ2VvbWV0cnkuZmlsbFwiLFwic3R5bGVyc1wiOlt7XCJjb2xvclwiOlwiI2ZlZmVmZVwifSx7XCJsaWdodG5lc3NcIjoyMH1dfSx7XCJmZWF0dXJlVHlwZVwiOlwiYWRtaW5pc3RyYXRpdmVcIixcImVsZW1lbnRUeXBlXCI6XCJnZW9tZXRyeS5zdHJva2VcIixcInN0eWxlcnNcIjpbe1wiY29sb3JcIjpcIiNmZWZlZmVcIn0se1wibGlnaHRuZXNzXCI6MTd9LHtcIndlaWdodFwiOjEuMn1dfV1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgX21hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoIF93cmFwWzBdLCBtYXBPcHRpb25zICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3NldE1hcmtlcnMoIF9tYXAgKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9sb2FkRGF0YSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfZGF0YSA9IF93cmFwLmRhdGEoICdtYXAnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX2luaXRNYXAoKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfc2V0TWFya2VycyA9IGZ1bmN0aW9uICggbWFwICkge1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoIHZhciBqID0wOyBqIDwgX2RhdGFbICdwbGFjZXMnIF0ubGVuZ3RoOyBqKysgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9hZGRNYXJrZXIoIGosIG1hcCApXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9hZGRNYXJrZXIgPSBmdW5jdGlvbiAoIGksIG1hcCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9IF9kYXRhWyAncGxhY2VzJyBdWyBpIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgY3VySWNvblVybCA9IF9kYXRhWyAnaWNvbicgXSxcclxuICAgICAgICAgICAgICAgICAgICBjdXJMYXRMbmcgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKCBjdXJJdGVtWyAnbGF0JyBdLCBjdXJJdGVtWyAnbG5nJyBdICksXHJcbiAgICAgICAgICAgICAgICAgICAgYm91bmRzID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcygpO1xyXG5cclxuICAgICAgICAgICAgICAgIF9tYXJrZXJzWyBpIF0gPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGN1ckxhdExuZyxcclxuICAgICAgICAgICAgICAgICAgICBtYXA6IG1hcCxcclxuICAgICAgICAgICAgICAgICAgICBjbGlja2FibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb246IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBjdXJJY29uVXJsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsZWRTaXplOiBuZXcgZ29vZ2xlLm1hcHMuU2l6ZSggMjQsIDMzIClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICggdmFyIGogPSAwOyBqIDwgX21hcmtlcnMubGVuZ3RoOyBqKysgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggX21hcmtlcnNbIGogXSAhPT0gJycgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy5leHRlbmQoIF9tYXJrZXJzWyBqIF0uZ2V0UG9zaXRpb24oKSApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF9tYXAuZml0Qm91bmRzKCBib3VuZHMgKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgX2NvbnN0cnVjdG9yKCk7XHJcbiAgICB9O1xyXG5cclxufSApKCk7XHJcbiJdfQ==
