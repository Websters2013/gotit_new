!function(){"use strict";$(function(){$.each($(".site__header"),function(){new e($(this))})});var e=function(e){var s=this,n=e,o=n.find(".site__menu"),t=$("html"),i=$(".site__menu-btn"),c=function(){i.on({click:function(){a($(this))}}),$(window).on({keyup:function(e){27==e.which&&(i.removeClass("opened"),o.removeClass("opened"),t.css({"overflow-y":"auto"}),$(".site")[0].obj.setCanUseScroll(!0),n.css({"z-index":2}))}})},a=function(e){var s=e;s.hasClass("opened")?(s.removeClass("opened"),o.removeClass("opened"),t.css({"overflow-y":"auto"}),$(".site")[0].obj.setCanUseScroll(!0),n.css({"z-index":2})):(s.addClass("opened"),o.addClass("opened"),$(".search, .search-btn, .get-in-touch").removeClass("opened"),$(".get-in-touch-opened").removeClass("get-in-touch-opened"),t.css({"overflow-y":"hidden"}),$(".site")[0].obj.setCanUseScroll(!1),n.css({"z-index":15}))};n[0].obj=s,c()}}();
!function(){$(function(){$(window).on({load:function(){$("html, body").animate({scrollTop:0},1),$(".loading").removeClass("active"),$(".hero").addClass("is-inview"),$(".about-us_detail").addClass("is-inview")}}),$(".hero").each(function(){new t($(this))}),$(".services").each(function(){new s($(this))}),$(".show").each(function(){new e($(this))}),$(".site").each(function(){new n($(this))}),$(".search").each(function(){new o($(this))}),$(".get-in-touch").each(function(){new a($(this))})});var t=function(t){var s=this,e=t,n=e.find(".hero__title"),o=function(){n.each(function(){for(var t=$(this),s=t.data("text"),e=0;e<s.length;e++)32==s.substr(e,1).charCodeAt(0)?t.append("<span>&nbsp;</span>"):t.append("<span>"+s.substr(e,1)+"</span>")})};(function(){})(),e[0].obj=s,o()},s=function(t){var s,e=this,n=t,o=n.find(".swiper-container"),a=n.find(".swiper-pagination"),i=n.find(".swiper-button-next"),r=n.find(".swiper-button-prev"),c=function(){s=new Swiper(o,{pagination:a,paginationClickable:!0,nextButton:i,prevButton:r,spaceBetween:30})};(function(){})(),n[0].obj=e,c()},e=function(t){var s=this,e=t,n=$(window),o=function(){n.on({scroll:function(){a()}})},a=function(){var t=n.height();e.each(function(){var s=$(this),o=e.offset().top;n.scrollTop()+.8*t>o&&!s.hasClass("animation")&&(s.hasClass("show_is")?s.addClass("is-inview"):s.addClass("animation"))})};e[0].slides=s,o(),a()},n=function(t){var s=this,e=t,n=$(window),o=$(".site__footer"),a=o.find(".site__footer-logo"),i=!0,r=function(){n.on({scroll:function(){var t=$(window).scrollTop();c(t),a.offset().top-t<1.1*$(window).height()?o.addClass("is-inview"):o.removeClass("is-inview")}}),n.on({mousewheel:function(t){i&&(t.preventDefault(),l(t))},DOMMouseScroll:function(t){i&&(t.preventDefault(),l(t))}})},c=function(t){$(".hero__title").each(function(s){var e=$(this);switch(s){case 0:e.css({"-webkit-transform":"translate( "+.8*-t+"px, 0px )",transform:"translate( "+.8*-t+"px, 0px )"});break;case 1:e.css({"-webkit-transform":"translate( "+.8*-t*2+"px, 0px )",transform:"translate( "+.8*-t*2+"px, 0px )"})}}),$(".hero__ban").css({"-webkit-transform":"translate( 0px, "+.1*t+"px )",transform:"translate( 0px, "+.1*t+"px )"}),$(".about-us__column").each(function(s){var e=$(this),n=e.offset().top;switch(s){case 0:e.css({"-webkit-transform":"translate( 0px, "+.05*-(t-n)+"px )",transform:"translate( 0px, "+.05*-(t-n)+"px )"});break;case 1:e.css({"-webkit-transform":"translate( 0px, "+.05*(t-n)+"px )",transform:"translate( 0px, "+.05*(t-n)+"px )"})}}),$(".about-us .btn_plus").css({"-webkit-transform":"translate( 0px, "+.05*t+"px )",transform:"translate( 0px, "+.05*t+"px )"}),$(".about-us__image").css({"-webkit-transform":"translate( 0px, "+.1*t+"px )",transform:"translate( 0px, "+.1*t+"px )"}),$(".badge").each(function(){var s=$(this),e=s.offset().top;s.css({"-webkit-transform":"translate( 0px, "+.5*(t-e)+"px )",transform:"translate( 0px, "+.5*(t-e)+"px )"})}),$(".case-preview__item").each(function(s){var e=$(this),n=e.offset().top;1==s?e.css({"-webkit-transform":"translate( 0px, "+.05*(t-n)+"px )",transform:"translate( 0px, "+.05*(t-n)+"px )"}):e.css({"-webkit-transform":"translate( 0px, "+.05*-(t-n)+"px )",transform:"translate( 0px, "+.05*-(t-n)+"px )"})}),$(".contact-us__logo").each(function(){var s=$(this),e=s.offset().top;s.css({"-webkit-transform":"translate( "+.15*(t-e)+"px, 0px )",transform:"translate( "+.15*(t-e)+"px, 0px )"})}),$(".our-services__item-pic").each(function(s){var e=$(this),n=e.offset().top;e.css({"-webkit-transform":"translate( 0px, "+.1*(t-n)+"px )",transform:"translate( 0px, "+.1*(t-n)+"px )"})})},l=function(t){var s=t.originalEvent.wheelDelta/120||-t.originalEvent.detail/3,e=n.scrollTop()-parseInt(170*s);TweenMax.to(n,1.2,{scrollTo:{y:e,autoKill:!0},ease:Power1.easeOut,overwrite:5})};s.setCanUseScroll=function(t){i=t},e[0].obj=s,r()},o=function(t){var s=this,e=t,n=$("html"),o=$(".site__header"),a=($("body, html"),e.find("input")),i=$(".search-btn"),r=(e.find(".search__wrap form"),e.find(".search__results")),c=e.find(".search__found dd"),l=$("body").attr("data-action"),f=new XMLHttpRequest,p=function(){i.on({click:function(){$(this).hasClass("get-in-touch-opened")||(h($(this)),setTimeout(function(){a.focus()},300))}}),a.on({keyup:function(){var t=$(this).val();f.abort(),f=$.ajax({url:l,data:{action:"gotit",text:t},dataType:"json",timeout:2e4,type:"get",success:function(t){u(t)},error:function(t){"abort"!=t.statusText&&alert("Error!")}})}}),$(window).on({keyup:function(t){27==t.which&&(i.removeClass("opened"),e.removeClass("opened"),n.css({"overflow-y":"auto"}),$(".site")[0].obj.setCanUseScroll(!0),o.css({"z-index":2}))}})},u=function(t){var s=t.items;if($(".search__results span").remove(),c.text(t.count),t.count>0)for(var e=0;e<s.length;e++)r.append('<span class="new"><a href="'+s[e].link+'">'+s[e].title+"</a></span> ")},h=function(t){var s=t;s.hasClass("opened")?(s.removeClass("opened"),e.removeClass("opened"),n.css({"overflow-y":"auto"}),$(".site")[0].obj.setCanUseScroll(!0),o.css({"z-index":2})):(s.addClass("opened"),e.addClass("opened"),$(".site__menu, .site__menu-btn, .get-in-touch").removeClass("opened"),n.css({"overflow-y":"hidden"}),$(".site")[0].obj.setCanUseScroll(!1),o.css({"z-index":15}))};e[0].obj=s,p()},a=function(t){var s=this,e=t,n=$("html"),o=$(".site__header"),a=e.find("textarea"),i=e.find(".get-in-touch__submit, .gform_footer"),r=$(".get-in-touch-btn"),c=function(){$(window).on({keyup:function(t){27==t.which&&($(".search-btn").removeClass("get-in-touch-opened"),e.removeClass("opened"),n.css({"overflow-y":"auto"}),$(".site")[0].obj.setCanUseScroll(!0),o.css({"z-index":2}))}}),r.on({click:function(){return f(),!1}}),a.on({keyup:function(){var t=$(this).val();""!=!t||i.hasClass("show")||i.addClass("show"),""==t&&i.removeClass("show")}}),$(".search-btn").on({click:function(){$(this).hasClass("get-in-touch-opened")&&($(this).removeClass("get-in-touch-opened"),l())}})},l=function(){e.removeClass("opened"),n.css({"overflow-y":"auto"}),$(".site")[0].obj.setCanUseScroll(!0),o.css({"z-index":2})},f=function(){e.addClass("opened"),$(".search-btn").addClass("get-in-touch-opened"),n.css({"overflow-y":"hidden"}),$(".site")[0].obj.setCanUseScroll(!1),o.css({"z-index":15})};e[0].obj=s,c()}}();
!function(){"use strict";$(function(){$.each($(".contact__map"),function(){new e($(this))})});var e=function(e){var t,l=e,s=[],o=null,r=function(){var e={drag:!1,dragable:!1,disableDefaultUI:!0,scrollwheel:!1,styles:[{featureType:"water",elementType:"geometry",stylers:[{color:"#e9e9e9"},{lightness:17}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:20}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#333333"},{lightness:40}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]}]};t=new google.maps.Map(l[0],e),n(t)},f=function(){},n=function(e){for(var t=0;t<o.places.length;t++)a(t,e)},a=function(e,l){var r=o.places[e],f=o.icon,n=new google.maps.LatLng(r.lat,r.lng),a=new google.maps.LatLngBounds;s[e]=new google.maps.Marker({position:n,map:l,clickable:!1,icon:{url:f,scaledSize:new google.maps.Size(24,33)}});for(var i=0;i<s.length;i++)""!==s[i]&&a.extend(s[i].getPosition());t.fitBounds(a)};(function(){o=l.data("map"),r()})(),f()}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5tYWluLmpzIiwianF1ZXJ5LmluZGV4LmpzIiwianF1ZXJ5Lm1hcC5qcyJdLCJuYW1lcyI6WyIkIiwiZWFjaCIsIk1lbnUiLCJ0aGlzIiwib2JqIiwiX3NlbGYiLCJfb2JqIiwiX21lbnUiLCJmaW5kIiwiX3Njcm9sbGVyIiwiX3Nob3dCdG4iLCJfb25FdmVudHMiLCJvbiIsImNsaWNrIiwiX29wZW5NZW51Iiwid2luZG93Iiwia2V5dXAiLCJlIiwid2hpY2giLCJyZW1vdmVDbGFzcyIsImNzcyIsIm92ZXJmbG93LXkiLCJzZXRDYW5Vc2VTY3JvbGwiLCJ6LWluZGV4IiwiZWxlbSIsImN1ckl0ZW0iLCJoYXNDbGFzcyIsImFkZENsYXNzIiwibG9hZCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJIZXJvIiwiU2VydmljZXMiLCJTaG93IiwiU2l0ZSIsIlNlYXJjaCIsIkdldEluVG91Y2giLCJfdGl0bGUiLCJfY3JlYXRlRWxlbXMiLCJlbGVtVGV4dCIsImRhdGEiLCJpIiwibGVuZ3RoIiwic3Vic3RyIiwiY2hhckNvZGVBdCIsImFwcGVuZCIsIl9zd2lwZXIiLCJfc2xpZGVyIiwiX3NsaWRlclBhZ2luYXRpb24iLCJfc2xpZGVyTmV4dCIsIl9zbGlkZXJQcmV2IiwiX2luaXRTbGlkZXIiLCJTd2lwZXIiLCJwYWdpbmF0aW9uIiwicGFnaW5hdGlvbkNsaWNrYWJsZSIsIm5leHRCdXR0b24iLCJwcmV2QnV0dG9uIiwic3BhY2VCZXR3ZWVuIiwiX3dpbmRvdyIsInNjcm9sbCIsIl9jaGVja1Njcm9sbCIsIndpbmRvd0giLCJoZWlnaHQiLCJ0b3BQb3MiLCJvZmZzZXQiLCJ0b3AiLCJzbGlkZXMiLCJfZm9vdGVyIiwiX2Zvb3RlckxvZ29Ub3AiLCJfY2FuVXNlU21vb3RoU2Nyb2xsIiwiX2FkZEV2ZW50cyIsIl9tb3ZlIiwibW91c2V3aGVlbCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJfc2l0ZVNjcm9sbCIsIkRPTU1vdXNlU2Nyb2xsIiwiLXdlYmtpdC10cmFuc2Zvcm0iLCJ0cmFuc2Zvcm0iLCJvZmZzZXRFbGVtIiwiZGVsdGEiLCJvcmlnaW5hbEV2ZW50Iiwid2hlZWxEZWx0YSIsImRldGFpbCIsImZpbmFsU2Nyb2xsIiwicGFyc2VJbnQiLCJUd2Vlbk1heCIsInRvIiwic2Nyb2xsVG8iLCJ5IiwiYXV0b0tpbGwiLCJlYXNlIiwiUG93ZXIxIiwiZWFzZU91dCIsIm92ZXJ3cml0ZSIsInBhcmFtIiwiX2h0bWwiLCJfaGVhZGVyIiwiX3NlYXJjaEZpZWxkIiwiX3Jlc3VsdHMiLCJfZm91bmRzIiwiX3BhdGgiLCJhdHRyIiwiX3JlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsIl9vcGVuU2VhY2giLCJzZXRUaW1lb3V0IiwiZm9jdXMiLCJ0ZXh0IiwidmFsIiwiYWJvcnQiLCJhamF4IiwidXJsIiwiYWN0aW9uIiwiZGF0YVR5cGUiLCJ0aW1lb3V0IiwidHlwZSIsInN1Y2Nlc3MiLCJfY3JlYXRlUmVzdWx0IiwiZXJyb3IiLCJzdGF0dXNUZXh0IiwiYWxlcnQiLCJpdGVtcyIsInJlbW92ZSIsImNvdW50IiwibGluayIsInRpdGxlIiwiX3RleHRhcmVhIiwiX3N1Ym1pdCIsIl9vcGVuIiwiZWxlbVZhbHVlIiwiX2Nsb3NlIiwiTWFwIiwiX21hcCIsIl93cmFwIiwiX21hcmtlcnMiLCJfZGF0YSIsIl9pbml0TWFwIiwibWFwT3B0aW9ucyIsImRyYWciLCJkcmFnYWJsZSIsImRpc2FibGVEZWZhdWx0VUkiLCJzY3JvbGx3aGVlbCIsInN0eWxlcyIsImZlYXR1cmVUeXBlIiwiZWxlbWVudFR5cGUiLCJzdHlsZXJzIiwiY29sb3IiLCJsaWdodG5lc3MiLCJ3ZWlnaHQiLCJ2aXNpYmlsaXR5Iiwic2F0dXJhdGlvbiIsImdvb2dsZSIsIm1hcHMiLCJfc2V0TWFya2VycyIsIm1hcCIsImoiLCJfYWRkTWFya2VyIiwiY3VySWNvblVybCIsImN1ckxhdExuZyIsIkxhdExuZyIsImJvdW5kcyIsIkxhdExuZ0JvdW5kcyIsIk1hcmtlciIsInBvc2l0aW9uIiwiY2xpY2thYmxlIiwiaWNvbiIsInNjYWxlZFNpemUiLCJTaXplIiwiZXh0ZW5kIiwiZ2V0UG9zaXRpb24iLCJmaXRCb3VuZHMiXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0ksYUFFQUEsRUFBRyxXQUVDQSxFQUFFQyxLQUFNRCxFQUFHLGlCQUFtQixXQUUxQixJQUFJRSxFQUFPRixFQUFHRyxXQUt0QixJQUFJRCxFQUFPLFNBQVVFLEdBR2pCLElBQUlDLEVBQVFGLEtBQ1JHLEVBQU9GLEVBQ1BHLEVBQVFELEVBQUtFLEtBQU0sZUFDbkJDLEVBQVlULEVBQUcsUUFDZlUsRUFBV1YsRUFBRyxtQkFPZFcsRUFBWSxXQUVSRCxFQUFTRSxJQUNMQyxNQUFPLFdBRUhDLEVBQVdkLEVBQUdHLFVBSXRCSCxFQUFFZSxRQUFRSCxJQUNOSSxNQUFPLFNBQVNDLEdBRUcsSUFBWEEsRUFBRUMsUUFDRlIsRUFBU1MsWUFBYSxVQUN0QlosRUFBTVksWUFBYSxVQUVuQlYsRUFBVVcsS0FDTkMsYUFBYyxTQUdsQnJCLEVBQUcsU0FBVSxHQUFHSSxJQUFJa0IsaUJBQWlCLEdBRXJDaEIsRUFBS2MsS0FDREcsVUFBVyxTQU0vQlQsRUFBWSxTQUFVVSxHQUVsQixJQUFJQyxFQUFVRCxFQUVWQyxFQUFRQyxTQUFVLFdBRWxCRCxFQUFRTixZQUFhLFVBQ3JCWixFQUFNWSxZQUFhLFVBRW5CVixFQUFVVyxLQUNOQyxhQUFjLFNBR2xCckIsRUFBRyxTQUFVLEdBQUdJLElBQUlrQixpQkFBaUIsR0FFckNoQixFQUFLYyxLQUNERyxVQUFXLE1BS2ZFLEVBQVFFLFNBQVUsVUFDbEJwQixFQUFNb0IsU0FBVSxVQUNoQjNCLEVBQUcsdUNBQXdDbUIsWUFBYSxVQUN4RG5CLEVBQUcsd0JBQXlCbUIsWUFBYSx1QkFFekNWLEVBQVVXLEtBQ05DLGFBQWMsV0FHbEJyQixFQUFHLFNBQVUsR0FBR0ksSUFBSWtCLGlCQUFpQixHQUVyQ2hCLEVBQUtjLEtBQ0RHLFVBQVcsT0FqRW5CakIsRUFBTSxHQUFJRixJQUFNQyxFQUNoQk07Q0N4QmhCLFdBRUlYLEVB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QUFXQyxHQUVyQixJQUFNLElBQUlDLEVBQUcsRUFBR0EsRUFBSXBCLEVBQWdCLE9BQUU5RixPQUFRa0gsSUFFMUNDLEVBQVlELEVBQUdELElBR3ZCRSxFQUFhLFNBQVdwSCxFQUFHa0gsR0FFdkIsSUFBSWxJLEVBQVUrRyxFQUFnQixPQUFHL0YsR0FDN0JxSCxFQUFhdEIsRUFBYyxLQUMzQnVCLEVBQVksSUFBSVAsT0FBT0MsS0FBS08sT0FBUXZJLEVBQWUsSUFBR0EsRUFBZSxLQUNyRXdJLEVBQVMsSUFBSVQsT0FBT0MsS0FBS1MsYUFFN0IzQixFQUFVOUYsR0FBTSxJQUFJK0csT0FBT0MsS0FBS1UsUUFDNUJDLFNBQVVMLEVBQ1ZKLElBQUtBLEVBQ0xVLFdBQVcsRUFDWEMsTUFDSXRELElBQUs4QyxFQUNMUyxXQUFZLElBQUlmLE9BQU9DLEtBQUtlLEtBQU0sR0FBSSxPQUk5QyxJQUFNLElBQUlaLEVBQUksRUFBR0EsRUFBSXJCLEVBQVM3RixPQUFRa0gsSUFFWCxLQUFsQnJCLEVBQVVxQixJQUNYSyxFQUFPUSxPQUFRbEMsRUFBVXFCLEdBQUljLGVBR3JDckMsRUFBS3NDLFVBQVdWLEtBekNSLFdBRVJ6QixFQUFRRixFQUFNOUYsS0FBTSxPQUVwQmlHLFFBckJBOUgiLCJmaWxlIjoiaW5kZXgubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKCBmdW5jdGlvbigpIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgICQoIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAkLmVhY2goICQoICcuc2l0ZV9faGVhZGVyJyApLCBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgIG5ldyBNZW51ICggJCggdGhpcyApICk7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBNZW51ID0gZnVuY3Rpb24oIG9iaiApIHtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcclxuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxyXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfbWVudSA9IF9vYmouZmluZCggJy5zaXRlX19tZW51JyApLFxyXG4gICAgICAgICAgICBfc2Nyb2xsZXIgPSAkKCAnaHRtbCcgKSxcclxuICAgICAgICAgICAgX3Nob3dCdG4gPSAkKCAnLnNpdGVfX21lbnUtYnRuJyApO1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xyXG4gICAgICAgIHZhciBfY29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIF9vYmpbIDAgXS5vYmogPSBfc2VsZjtcclxuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfb25FdmVudHMgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfc2hvd0J0bi5vbigge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vcGVuTWVudSggJCggdGhpcyApICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgICQod2luZG93KS5vbigge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleXVwOiBmdW5jdGlvbihlKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS53aGljaCA9PSAyNykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Nob3dCdG4ucmVtb3ZlQ2xhc3MoICdvcGVuZWQnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbWVudS5yZW1vdmVDbGFzcyggJ29wZW5lZCcgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2Nyb2xsZXIuY3NzKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnYXV0bydcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCAnLnNpdGUnIClbMF0ub2JqLnNldENhblVzZVNjcm9sbCggdHJ1ZSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnei1pbmRleCc6IDJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfb3Blbk1lbnUgPSBmdW5jdGlvbiggZWxlbSApICB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSBlbGVtO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKCBjdXJJdGVtLmhhc0NsYXNzKCAnb3BlbmVkJyApICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xyXG4gICAgICAgICAgICAgICAgICAgIF9tZW51LnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfc2Nyb2xsZXIuY3NzKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ2F1dG8nXHJcbiAgICAgICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkKCAnLnNpdGUnIClbMF0ub2JqLnNldENhblVzZVNjcm9sbCggdHJ1ZSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfb2JqLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd6LWluZGV4JzogMlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0uYWRkQ2xhc3MoICdvcGVuZWQnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgX21lbnUuYWRkQ2xhc3MoICdvcGVuZWQnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCggJy5zZWFyY2gsIC5zZWFyY2gtYnRuLCAuZ2V0LWluLXRvdWNoJyApLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xyXG4gICAgICAgICAgICAgICAgICAgICQoICcuZ2V0LWluLXRvdWNoLW9wZW5lZCcgKS5yZW1vdmVDbGFzcyggJ2dldC1pbi10b3VjaC1vcGVuZWQnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9zY3JvbGxlci5jc3MoIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnaGlkZGVuJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJCggJy5zaXRlJyApWzBdLm9iai5zZXRDYW5Vc2VTY3JvbGwoIGZhbHNlICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9vYmouY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3otaW5kZXgnOiAxNVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICBfY29uc3RydWN0b3IoKTtcclxuICAgIH07XHJcblxyXG59ICkoKTsiLCIoIGZ1bmN0aW9uKCl7XG5cbiAgICAkKGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgJCggd2luZG93ICkub24oIHtcbiAgICAgICAgICAgICdsb2FkJzogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe3Njcm9sbFRvcDogMH0sMSk7XG4gICAgICAgICAgICAgICAgJCgnLmxvYWRpbmcnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgJCgnLmhlcm8nKS5hZGRDbGFzcygnaXMtaW52aWV3Jyk7XG4gICAgICAgICAgICAgICAgJCgnLmFib3V0LXVzX2RldGFpbCcpLmFkZENsYXNzKCdpcy1pbnZpZXcnKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJCgnLmhlcm8nKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5ldyBIZXJvKCAkKHRoaXMpICk7XG4gICAgICAgIH0gKTtcblxuICAgICAgICAkKCcuc2VydmljZXMnKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5ldyBTZXJ2aWNlcyggJCh0aGlzKSApO1xuICAgICAgICB9ICk7XG5cbiAgICAgICAgJCgnLnNob3cnKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5ldyBTaG93KCAkKHRoaXMpICk7XG4gICAgICAgIH0gKTtcblxuICAgICAgICAkKCcuc2l0ZScpLmVhY2goIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbmV3IFNpdGUoICQodGhpcykgKTtcbiAgICAgICAgfSApO1xuXG4gICAgICAgICQoJy5zZWFyY2gnKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5ldyBTZWFyY2goICQodGhpcykgKTtcbiAgICAgICAgfSApO1xuXG4gICAgICAgICQoJy5nZXQtaW4tdG91Y2gnKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5ldyBHZXRJblRvdWNoKCAkKHRoaXMpICk7XG4gICAgICAgIH0gKTtcblxuICAgIH0pO1xuXG4gICAgdmFyIEhlcm8gPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfdGl0bGUgPSBfb2JqLmZpbmQoICcuaGVyb19fdGl0bGUnICk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9jb25zdHJ1Y3RvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9jcmVhdGVFbGVtcygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jcmVhdGVFbGVtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGl0bGUuZWFjaCggZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtVGV4dCA9IGVsZW0uZGF0YSggJ3RleHQnICk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBlbGVtVGV4dC5sZW5ndGg7IGkrKyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbGVtQ2hhciA9IGVsZW1UZXh0LnN1YnN0cihpLCAxKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBlbGVtQ2hhci5jaGFyQ29kZUF0KDApID09IDMyICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uYXBwZW5kKCAnPHNwYW4+Jm5ic3A7PC9zcGFuPicgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5hcHBlbmQoICc8c3Bhbj4nICsgZWxlbVRleHQuc3Vic3RyKGksIDEpICsgJzwvc3Bhbj4nICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG5cbiAgICAgICAgX2NvbnN0cnVjdG9yKCk7XG4gICAgfTtcblxuICAgIHZhciBTZXJ2aWNlcyA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9zbGlkZXIgPSBfb2JqLmZpbmQoICcuc3dpcGVyLWNvbnRhaW5lcicgKSxcbiAgICAgICAgICAgIF9zbGlkZXJQYWdpbmF0aW9uID0gX29iai5maW5kKCAnLnN3aXBlci1wYWdpbmF0aW9uJyApLFxuICAgICAgICAgICAgX3NsaWRlck5leHQgPSBfb2JqLmZpbmQoICcuc3dpcGVyLWJ1dHRvbi1uZXh0JyApLFxuICAgICAgICAgICAgX3NsaWRlclByZXYgPSBfb2JqLmZpbmQoICcuc3dpcGVyLWJ1dHRvbi1wcmV2JyApLFxuICAgICAgICAgICAgX3N3aXBlcjtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2NvbnN0cnVjdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2luaXRTbGlkZXIoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdFNsaWRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfc3dpcGVyID0gbmV3IFN3aXBlciggX3NsaWRlciwge1xuICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiBfc2xpZGVyUGFnaW5hdGlvbixcbiAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbkNsaWNrYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbmV4dEJ1dHRvbjogX3NsaWRlck5leHQsXG4gICAgICAgICAgICAgICAgICAgIHByZXZCdXR0b246IF9zbGlkZXJQcmV2LFxuICAgICAgICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDMwXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG5cbiAgICAgICAgX2NvbnN0cnVjdG9yKCk7XG4gICAgfTtcblxuICAgIHZhciBTaG93ID0gZnVuY3Rpb24gKCBvYmogKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2hlY2tTY3JvbGwgPSBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgdmFyIHdpbmRvd0ggPSBfd2luZG93LmhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgX29iai5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3BQb3MgPSBfb2JqLm9mZnNldCgpLnRvcDtcblxuICAgICAgICAgICAgICAgICAgICBpZiggKCBfd2luZG93LnNjcm9sbFRvcCgpICsgd2luZG93SCowLjggKSA+IHRvcFBvcyAmJiAhY3VySXRlbS5oYXNDbGFzcyggJ2FuaW1hdGlvbicgKSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBjdXJJdGVtLmhhc0NsYXNzKCAnc2hvd19pcycgKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLmFkZENsYXNzKCAnaXMtaW52aWV3JyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLmFkZENsYXNzKCAnYW5pbWF0aW9uJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLnNsaWRlcyA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBTaXRlID0gZnVuY3Rpb24ob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXG4gICAgICAgICAgICBfZm9vdGVyID0gJCggJy5zaXRlX19mb290ZXInICksXG4gICAgICAgICAgICBfZm9vdGVyTG9nb1RvcCA9IF9mb290ZXIuZmluZCggJy5zaXRlX19mb290ZXItbG9nbycgKSxcbiAgICAgICAgICAgIF9jYW5Vc2VTbW9vdGhTY3JvbGwgPSB0cnVlO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKHtcbiAgICAgICAgICAgICAgICAgICAgJ3Njcm9sbCc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbFRvcCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX21vdmUoIHNjcm9sbFRvcCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoICggX2Zvb3RlckxvZ29Ub3Aub2Zmc2V0KCkudG9wIC0gc2Nyb2xsVG9wICkgPCAkKHdpbmRvdykuaGVpZ2h0KCkgKiAxLjEgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Zvb3Rlci5hZGRDbGFzcyggJ2lzLWludmlldycgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Zvb3Rlci5yZW1vdmVDbGFzcyggJ2lzLWludmlldycgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbih7XG4gICAgICAgICAgICAgICAgICAgICdtb3VzZXdoZWVsJzogZnVuY3Rpb24oIGV2ZW50ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBfY2FuVXNlU21vb3RoU2Nyb2xsICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2l0ZVNjcm9sbCggZXZlbnQgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJ0RPTU1vdXNlU2Nyb2xsJzogZnVuY3Rpb24oIGV2ZW50ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBfY2FuVXNlU21vb3RoU2Nyb2xsICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2l0ZVNjcm9sbCggZXZlbnQgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX21vdmUgPSBmdW5jdGlvbiggc2Nyb2xsVG9wICl7XG5cbiAgICAgICAgICAgICAgICAkKCcuaGVyb19fdGl0bGUnKS5lYWNoKCBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICBrb2VmWCA9IC44O1xuXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoIGkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSggJyArICggLSBzY3JvbGxUb3AgKiBrb2VmWCApICsgJ3B4LCAwcHggKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAnICsgKCAtIHNjcm9sbFRvcCAqIGtvZWZYICkgKyAncHgsIDBweCApJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAnICsgKCAtIHNjcm9sbFRvcCAqIGtvZWZYICogMiApICsgJ3B4LCAwcHggKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAnICsgKCAtIHNjcm9sbFRvcCAqIGtvZWZYICogMiApICsgJ3B4LCAwcHggKSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgICQoICcuaGVyb19fYmFuJyApLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAwcHgsICcgKyAoIHNjcm9sbFRvcCAqIC4xKSArICdweCApJyxcbiAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUoIDBweCwgJyArICggc2Nyb2xsVG9wICogLjEpICsgJ3B4ICknXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgJCgnLmFib3V0LXVzX19jb2x1bW4nKS5lYWNoKCBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRFbGVtID0gZWxlbS5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICBrb2VmWSA9IC4wNTtcblxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKCBpICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGUoIDBweCwgJyArICggLSAoIHNjcm9sbFRvcCAtIG9mZnNldEVsZW0gKSAqIGtvZWZZICkgKyAncHggKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAwcHgsICcgKyAoIC0gKCBzY3JvbGxUb3AgLSBvZmZzZXRFbGVtICkgKiBrb2VmWSApICsgJ3B4ICknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGUoIDBweCwgJyArICggKCBzY3JvbGxUb3AgLSBvZmZzZXRFbGVtICkgKiBrb2VmWSApICsgJ3B4ICknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSggMHB4LCAnICsgKCAoIHNjcm9sbFRvcCAtIG9mZnNldEVsZW0gKSAqIGtvZWZZICkgKyAncHggKSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgJCgnLmFib3V0LXVzIC5idG5fcGx1cycpLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAwcHgsICcgKyAoIHNjcm9sbFRvcCAqIC4wNSApICsgJ3B4ICknLFxuICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSggMHB4LCAnICsgKCBzY3JvbGxUb3AgKiAuMDUgKSArICdweCApJ1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICQoJy5hYm91dC11c19faW1hZ2UnKS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSggMHB4LCAnICsgKCBzY3JvbGxUb3AgKiAwLjEgKSArICdweCApJyxcbiAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUoIDBweCwgJyArICggc2Nyb2xsVG9wICogMC4xICkgKyAncHggKSdcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAkKCcuYmFkZ2UnKS5lYWNoKCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldEVsZW0gPSBlbGVtLm9mZnNldCgpLnRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtvZWZZID0gLjU7XG5cbiAgICAgICAgICAgICAgICAgICAgZWxlbS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGUoIDBweCwgJyArICggKCBzY3JvbGxUb3AgLSBvZmZzZXRFbGVtICkgKiBrb2VmWSApICsgJ3B4ICknLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUoIDBweCwgJyArICggKCBzY3JvbGxUb3AgLSBvZmZzZXRFbGVtICkgKiBrb2VmWSApICsgJ3B4ICknXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAkKCcuY2FzZS1wcmV2aWV3X19pdGVtJykuZWFjaCggZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0RWxlbSA9IGVsZW0ub2Zmc2V0KCkudG9wLFxuICAgICAgICAgICAgICAgICAgICAgICAga29lZlkgPSAuMDU7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBpID09IDEgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGUoIDBweCwgJyArICggKCBzY3JvbGxUb3AgLSBvZmZzZXRFbGVtICkgKiBrb2VmWSApICsgJ3B4ICknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAwcHgsICcgKyAoICggc2Nyb2xsVG9wIC0gb2Zmc2V0RWxlbSApICoga29lZlkgKSArICdweCApJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAwcHgsICcgKyAoIC0gKCBzY3JvbGxUb3AgLSBvZmZzZXRFbGVtICkgKiBrb2VmWSApICsgJ3B4ICknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAwcHgsICcgKyAoIC0gKCBzY3JvbGxUb3AgLSBvZmZzZXRFbGVtICkgKiBrb2VmWSApICsgJ3B4ICknXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICQoJy5jb250YWN0LXVzX19sb2dvJykuZWFjaCggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldEVsZW0gPSBlbGVtLm9mZnNldCgpLnRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtvZWZZID0gLjE1O1xuXG4gICAgICAgICAgICAgICAgICAgIGVsZW0uY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAnICsgKCAoIHNjcm9sbFRvcCAtIG9mZnNldEVsZW0gKSAqIGtvZWZZICkgKyAncHgsIDBweCApJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAnICsgKCAoIHNjcm9sbFRvcCAtIG9mZnNldEVsZW0gKSAqIGtvZWZZICkgKyAncHgsIDBweCApJ1xuICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgJCgnLm91ci1zZXJ2aWNlc19faXRlbS1waWMnKS5lYWNoKCBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRFbGVtID0gZWxlbS5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICBrb2VmWSA9IC4xO1xuXG4gICAgICAgICAgICAgICAgICAgIGVsZW0uY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAwcHgsICcgKyAoICggc2Nyb2xsVG9wIC0gb2Zmc2V0RWxlbSApICoga29lZlkgKSArICdweCApJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAwcHgsICcgKyAoICggc2Nyb2xsVG9wIC0gb2Zmc2V0RWxlbSApICoga29lZlkgKSArICdweCApJ1xuICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zaXRlU2Nyb2xsID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxUaW1lID0gMS4yLFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxEaXN0YW5jZSA9IDE3MCxcbiAgICAgICAgICAgICAgICAgICAgZGVsdGEgPSBldmVudC5vcmlnaW5hbEV2ZW50LndoZWVsRGVsdGEvMTIwIHx8IC1ldmVudC5vcmlnaW5hbEV2ZW50LmRldGFpbC8zLFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb3AgPSBfd2luZG93LnNjcm9sbFRvcCgpLFxuICAgICAgICAgICAgICAgICAgICBmaW5hbFNjcm9sbCA9IHNjcm9sbFRvcCAtIHBhcnNlSW50KCBkZWx0YSAqIHNjcm9sbERpc3RhbmNlICk7XG5cbiAgICAgICAgICAgICAgICBUd2Vlbk1heC50byggX3dpbmRvdywgc2Nyb2xsVGltZSwge1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUbyA6IHsgeTogZmluYWxTY3JvbGwsIGF1dG9LaWxsOnRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgZWFzZTogUG93ZXIxLmVhc2VPdXQsXG4gICAgICAgICAgICAgICAgICAgIG92ZXJ3cml0ZTogNVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX29ialsgMCBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcbiAgICAgICAgX3NlbGYuc2V0Q2FuVXNlU2Nyb2xsID0gZnVuY3Rpb24gKCBwYXJhbSApIHtcblxuICAgICAgICAgICAgX2NhblVzZVNtb290aFNjcm9sbCA9IHBhcmFtO1xuICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBTZWFyY2ggPSBmdW5jdGlvbiggb2JqICkge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX2h0bWwgPSAkKCAnaHRtbCcgKSxcbiAgICAgICAgICAgIF9oZWFkZXIgPSAkKCAnLnNpdGVfX2hlYWRlcicgKSxcbiAgICAgICAgICAgIF9zY3JvbGxlciA9ICQoICdib2R5LCBodG1sJyApLFxuICAgICAgICAgICAgX3NlYXJjaEZpZWxkID0gX29iai5maW5kKCAnaW5wdXQnICksXG4gICAgICAgICAgICBfc2hvd0J0biA9ICQoICcuc2VhcmNoLWJ0bicgKSxcbiAgICAgICAgICAgIF9mb3JtID0gX29iai5maW5kKCAnLnNlYXJjaF9fd3JhcCBmb3JtJyApLFxuICAgICAgICAgICAgX3Jlc3VsdHMgPSBfb2JqLmZpbmQoICcuc2VhcmNoX19yZXN1bHRzJyApLFxuICAgICAgICAgICAgX2ZvdW5kcyA9IF9vYmouZmluZCggJy5zZWFyY2hfX2ZvdW5kIGRkJyApLFxuICAgICAgICAgICAgX3BhdGggPSAkKCAnYm9keScgKS5hdHRyKCAnZGF0YS1hY3Rpb24nICksXG4gICAgICAgICAgICBfcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfY29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqWyAwIF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfc2hvd0J0bi5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggISQodGhpcykuaGFzQ2xhc3MoICdnZXQtaW4tdG91Y2gtb3BlbmVkJyApICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vcGVuU2VhY2goICQoIHRoaXMgKSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlYXJjaEZpZWxkLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwIClcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9zZWFyY2hGaWVsZC5vbigge1xuICAgICAgICAgICAgICAgICAgICBrZXl1cDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dCA9ICQodGhpcykudmFsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVxdWVzdCA9ICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBfcGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ2dvdGl0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogdGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiAyMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdldFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICggZGF0YSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY3JlYXRlUmVzdWx0KCBkYXRhICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoIFhNTEh0dHBSZXF1ZXN0ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggWE1MSHR0cFJlcXVlc3Quc3RhdHVzVGV4dCAhPSBcImFib3J0XCIgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCggJ0Vycm9yIScgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAkKHdpbmRvdykub24oIHtcbiAgICAgICAgICAgICAgICAgICAga2V5dXA6IGZ1bmN0aW9uKGUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUud2hpY2ggPT0gMjcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2hvd0J0bi5yZW1vdmVDbGFzcyggJ29wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2h0bWwuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoICcuc2l0ZScgKVswXS5vYmouc2V0Q2FuVXNlU2Nyb2xsKCB0cnVlICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaGVhZGVyLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd6LWluZGV4JzogMlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jcmVhdGVSZXN1bHQgPSBmdW5jdGlvbiAoIGRhdGEgKSB7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1zID0gZGF0YS5pdGVtcztcblxuICAgICAgICAgICAgICAgICQoICcuc2VhcmNoX19yZXN1bHRzIHNwYW4nICkucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgICAgICBfZm91bmRzLnRleHQoIGRhdGEuY291bnQgKTtcblxuICAgICAgICAgICAgICAgIGlmICggZGF0YS5jb3VudCA+IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoIHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVzdWx0cy5hcHBlbmQoICc8c3BhbiBjbGFzcz1cIm5ld1wiPjxhIGhyZWY9XCInKyBpdGVtc1tpXS5saW5rICsnXCI+JyArIGl0ZW1zW2ldLnRpdGxlICsgJzwvYT48L3NwYW4+ICcgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vcGVuU2VhY2ggPSBmdW5jdGlvbiggZWxlbSApICB7XG5cbiAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9IGVsZW07XG5cbiAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5oYXNDbGFzcyggJ29wZW5lZCcgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuXG4gICAgICAgICAgICAgICAgICAgIF9odG1sLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cteSc6ICdhdXRvJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAkKCAnLnNpdGUnIClbMF0ub2JqLnNldENhblVzZVNjcm9sbCggdHJ1ZSApO1xuXG4gICAgICAgICAgICAgICAgICAgIF9oZWFkZXIuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICd6LWluZGV4JzogMlxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5hZGRDbGFzcyggJ29wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ29wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICAgICAgJCggJy5zaXRlX19tZW51LCAuc2l0ZV9fbWVudS1idG4sIC5nZXQtaW4tdG91Y2gnICkucmVtb3ZlQ2xhc3MoICdvcGVuZWQnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgX2h0bWwuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgJCggJy5zaXRlJyApWzBdLm9iai5zZXRDYW5Vc2VTY3JvbGwoIGZhbHNlICk7XG5cbiAgICAgICAgICAgICAgICAgICAgX2hlYWRlci5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3otaW5kZXgnOiAxNVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9jb25zdHJ1Y3RvcigpO1xuICAgIH07XG5cbiAgICB2YXIgR2V0SW5Ub3VjaCA9IGZ1bmN0aW9uKCBvYmogKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfaHRtbCA9ICQoICdodG1sJyApLFxuICAgICAgICAgICAgX2hlYWRlciA9ICQoICcuc2l0ZV9faGVhZGVyJyApLFxuICAgICAgICAgICAgX3RleHRhcmVhID0gX29iai5maW5kKCAndGV4dGFyZWEnICksXG4gICAgICAgICAgICBfc3VibWl0ID0gX29iai5maW5kKCAnLmdldC1pbi10b3VjaF9fc3VibWl0LCAuZ2Zvcm1fZm9vdGVyJyApLFxuICAgICAgICAgICAgX3Nob3dCdG4gPSAkKCAnLmdldC1pbi10b3VjaC1idG4nICk7XG4gICAgICAgIFxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2NvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX29ialsgMCBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgJCh3aW5kb3cpLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGtleXVwOiBmdW5jdGlvbihlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLndoaWNoID09IDI3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCggJy5zZWFyY2gtYnRuJyApLnJlbW92ZUNsYXNzKCAnZ2V0LWluLXRvdWNoLW9wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2h0bWwuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoICcuc2l0ZScgKVswXS5vYmouc2V0Q2FuVXNlU2Nyb2xsKCB0cnVlICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaGVhZGVyLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd6LWluZGV4JzogMlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3Nob3dCdG4ub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfb3BlbigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfdGV4dGFyZWEub24oIHtcbiAgICAgICAgICAgICAgICAgICAga2V5dXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1WYWx1ZSA9IGVsZW0udmFsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggIWVsZW1WYWx1ZSA9PSAnJyAmJiAhX3N1Ym1pdC5oYXNDbGFzcyggJ3Nob3cnICkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N1Ym1pdC5hZGRDbGFzcyggJ3Nob3cnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggZWxlbVZhbHVlID09ICcnICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdWJtaXQucmVtb3ZlQ2xhc3MoICdzaG93JyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgJCggJy5zZWFyY2gtYnRuJyApLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAkKHRoaXMpLmhhc0NsYXNzKCAnZ2V0LWluLXRvdWNoLW9wZW5lZCcgKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCAnZ2V0LWluLXRvdWNoLW9wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2xvc2UgPSBmdW5jdGlvbigpICB7XG5cbiAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuXG4gICAgICAgICAgICAgICAgX2h0bWwuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnYXV0bydcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICQoICcuc2l0ZScgKVswXS5vYmouc2V0Q2FuVXNlU2Nyb2xsKCB0cnVlICk7XG5cbiAgICAgICAgICAgICAgICBfaGVhZGVyLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICd6LWluZGV4JzogMlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vcGVuID0gZnVuY3Rpb24oKSAge1xuXG4gICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ29wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICAkKCAnLnNlYXJjaC1idG4nICkuYWRkQ2xhc3MoICdnZXQtaW4tdG91Y2gtb3BlbmVkJyApO1xuXG4gICAgICAgICAgICAgICAgX2h0bWwuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgJCggJy5zaXRlJyApWzBdLm9iai5zZXRDYW5Vc2VTY3JvbGwoIGZhbHNlICk7XG5cbiAgICAgICAgICAgICAgICBfaGVhZGVyLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICd6LWluZGV4JzogMTVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2NvbnN0cnVjdG9yKCk7XG4gICAgfTtcblxufSApKCk7XG4iLCJcclxuKCBmdW5jdGlvbigpIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgICQoIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAkLmVhY2goICQoICcuY29udGFjdF9fbWFwJyApLCBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgIG5ldyBNYXAgKCAkKCB0aGlzICkgKTtcclxuXHJcbiAgICAgICAgfSApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIE1hcCA9IGZ1bmN0aW9uICggb2JqICkge1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xyXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgIF93cmFwID0gb2JqLFxyXG4gICAgICAgICAgICBfbWFwLFxyXG4gICAgICAgICAgICBfbWFya2VycyA9IFtdLFxyXG4gICAgICAgICAgICBfZGF0YSA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXHJcbiAgICAgICAgdmFyIF9jb25zdHJ1Y3RvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF9sb2FkRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9pbml0TWFwID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBtYXBPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGRyYWc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGRyYWdhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlRGVmYXVsdFVJOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbHdoZWVsOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZXM6IFt7XCJmZWF0dXJlVHlwZVwiOlwid2F0ZXJcIixcImVsZW1lbnRUeXBlXCI6XCJnZW9tZXRyeVwiLFwic3R5bGVyc1wiOlt7XCJjb2xvclwiOlwiI2U5ZTllOVwifSx7XCJsaWdodG5lc3NcIjoxN31dfSx7XCJmZWF0dXJlVHlwZVwiOlwibGFuZHNjYXBlXCIsXCJlbGVtZW50VHlwZVwiOlwiZ2VvbWV0cnlcIixcInN0eWxlcnNcIjpbe1wiY29sb3JcIjpcIiNmNWY1ZjVcIn0se1wibGlnaHRuZXNzXCI6MjB9XX0se1wiZmVhdHVyZVR5cGVcIjpcInJvYWQuaGlnaHdheVwiLFwiZWxlbWVudFR5cGVcIjpcImdlb21ldHJ5LmZpbGxcIixcInN0eWxlcnNcIjpbe1wiY29sb3JcIjpcIiNmZmZmZmZcIn0se1wibGlnaHRuZXNzXCI6MTd9XX0se1wiZmVhdHVyZVR5cGVcIjpcInJvYWQuaGlnaHdheVwiLFwiZWxlbWVudFR5cGVcIjpcImdlb21ldHJ5LnN0cm9rZVwiLFwic3R5bGVyc1wiOlt7XCJjb2xvclwiOlwiI2ZmZmZmZlwifSx7XCJsaWdodG5lc3NcIjoyOX0se1wid2VpZ2h0XCI6MC4yfV19LHtcImZlYXR1cmVUeXBlXCI6XCJyb2FkLmFydGVyaWFsXCIsXCJlbGVtZW50VHlwZVwiOlwiZ2VvbWV0cnlcIixcInN0eWxlcnNcIjpbe1wiY29sb3JcIjpcIiNmZmZmZmZcIn0se1wibGlnaHRuZXNzXCI6MTh9XX0se1wiZmVhdHVyZVR5cGVcIjpcInJvYWQubG9jYWxcIixcImVsZW1lbnRUeXBlXCI6XCJnZW9tZXRyeVwiLFwic3R5bGVyc1wiOlt7XCJjb2xvclwiOlwiI2ZmZmZmZlwifSx7XCJsaWdodG5lc3NcIjoxNn1dfSx7XCJmZWF0dXJlVHlwZVwiOlwicG9pXCIsXCJlbGVtZW50VHlwZVwiOlwiZ2VvbWV0cnlcIixcInN0eWxlcnNcIjpbe1wiY29sb3JcIjpcIiNmNWY1ZjVcIn0se1wibGlnaHRuZXNzXCI6MjF9XX0se1wiZmVhdHVyZVR5cGVcIjpcInBvaS5wYXJrXCIsXCJlbGVtZW50VHlwZVwiOlwiZ2VvbWV0cnlcIixcInN0eWxlcnNcIjpbe1wiY29sb3JcIjpcIiNkZWRlZGVcIn0se1wibGlnaHRuZXNzXCI6MjF9XX0se1wiZWxlbWVudFR5cGVcIjpcImxhYmVscy50ZXh0LnN0cm9rZVwiLFwic3R5bGVyc1wiOlt7XCJ2aXNpYmlsaXR5XCI6XCJvblwifSx7XCJjb2xvclwiOlwiI2ZmZmZmZlwifSx7XCJsaWdodG5lc3NcIjoxNn1dfSx7XCJlbGVtZW50VHlwZVwiOlwibGFiZWxzLnRleHQuZmlsbFwiLFwic3R5bGVyc1wiOlt7XCJzYXR1cmF0aW9uXCI6MzZ9LHtcImNvbG9yXCI6XCIjMzMzMzMzXCJ9LHtcImxpZ2h0bmVzc1wiOjQwfV19LHtcImVsZW1lbnRUeXBlXCI6XCJsYWJlbHMuaWNvblwiLFwic3R5bGVyc1wiOlt7XCJ2aXNpYmlsaXR5XCI6XCJvZmZcIn1dfSx7XCJmZWF0dXJlVHlwZVwiOlwidHJhbnNpdFwiLFwiZWxlbWVudFR5cGVcIjpcImdlb21ldHJ5XCIsXCJzdHlsZXJzXCI6W3tcImNvbG9yXCI6XCIjZjJmMmYyXCJ9LHtcImxpZ2h0bmVzc1wiOjE5fV19LHtcImZlYXR1cmVUeXBlXCI6XCJhZG1pbmlzdHJhdGl2ZVwiLFwiZWxlbWVudFR5cGVcIjpcImdlb21ldHJ5LmZpbGxcIixcInN0eWxlcnNcIjpbe1wiY29sb3JcIjpcIiNmZWZlZmVcIn0se1wibGlnaHRuZXNzXCI6MjB9XX0se1wiZmVhdHVyZVR5cGVcIjpcImFkbWluaXN0cmF0aXZlXCIsXCJlbGVtZW50VHlwZVwiOlwiZ2VvbWV0cnkuc3Ryb2tlXCIsXCJzdHlsZXJzXCI6W3tcImNvbG9yXCI6XCIjZmVmZWZlXCJ9LHtcImxpZ2h0bmVzc1wiOjE3fSx7XCJ3ZWlnaHRcIjoxLjJ9XX1dXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIF9tYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKCBfd3JhcFswXSwgbWFwT3B0aW9ucyApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9zZXRNYXJrZXJzKCBfbWFwICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfbG9hZERhdGEgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX2RhdGEgPSBfd3JhcC5kYXRhKCAnbWFwJyApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9pbml0TWFwKCk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfb25FdmVudHMgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3NldE1hcmtlcnMgPSBmdW5jdGlvbiAoIG1hcCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKCB2YXIgaiA9MDsgaiA8IF9kYXRhWyAncGxhY2VzJyBdLmxlbmd0aDsgaisrICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfYWRkTWFya2VyKCBqLCBtYXAgKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfYWRkTWFya2VyID0gZnVuY3Rpb24gKCBpLCBtYXAgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSBfZGF0YVsgJ3BsYWNlcycgXVsgaSBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGN1ckljb25VcmwgPSBfZGF0YVsgJ2ljb24nIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgY3VyTGF0TG5nID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyggY3VySXRlbVsgJ2xhdCcgXSwgY3VySXRlbVsgJ2xuZycgXSApLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvdW5kcyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfbWFya2Vyc1sgaSBdID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcigge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBjdXJMYXRMbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFwOiBtYXAsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2thYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogY3VySWNvblVybCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVkU2l6ZTogbmV3IGdvb2dsZS5tYXBzLlNpemUoIDI0LCAzMyApXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoIHZhciBqID0gMDsgaiA8IF9tYXJrZXJzLmxlbmd0aDsgaisrICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIF9tYXJrZXJzWyBqIF0gIT09ICcnICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3VuZHMuZXh0ZW5kKCBfbWFya2Vyc1sgaiBdLmdldFBvc2l0aW9uKCkgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfbWFwLmZpdEJvdW5kcyggYm91bmRzICk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIF9jb25zdHJ1Y3RvcigpO1xyXG4gICAgfTtcclxuXHJcbn0gKSgpO1xyXG4iXX0=
